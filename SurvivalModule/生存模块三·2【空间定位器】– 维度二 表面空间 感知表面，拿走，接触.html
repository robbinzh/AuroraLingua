<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>èŠ¬å…°è¯­æ¨¡å—ä¸‰Â·ç»´åº¦äºŒï¼šæ„ŸçŸ¥â€œè¡¨é¢â€ç©ºé—´ (æœ€ç»ˆä¼˜åŒ–ç‰ˆTTS)</title> <!-- æ ‡é¢˜å·²æ›´æ–° -->
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; line-height: 1.7; margin: 20px auto; max-width: 900px; padding: 0 20px; color: #333; background-color: #f9f9f9; }
        h1, h2, h3, h4 { color: #2c3e50; }
        h1 { text-align: center; margin-bottom: 35px; font-size: 2.2em; }
        h2 { border-bottom: 2px solid #16a085; padding-bottom: 12px; margin-top: 45px; font-size: 1.8em; color: #16a085; }
        h3 { margin-top: 30px; font-size: 1.5em; color: #1abc9c; }
        h4 { font-size: 1.3em; color: #e67e22; margin-top:25px; margin-bottom:15px; }
        table.immersion-table, table.vocab-list-table { width: 100%; border-collapse: collapse; margin-bottom: 25px; display: table; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .immersion-table th, .immersion-table td, .vocab-list-table th, .vocab-list-table td { border: 1px solid #ddd; padding: 12px; text-align: left; vertical-align: top;}
        .immersion-table thead, .vocab-list-table thead { background-color: #e9ecef; }
        .immersion-table td:first-child, .vocab-list-table td:first-child { font-weight: bold; }
        .story-card, .practice-plan-card, .cognitive-bleeding-card, .usage-example, .summary-card, .example, .new-vocab-section {
            background-color: #fff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; margin-bottom: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }
        .example { border-left: 6px solid #1abc9c !important; }
        .story-card h4 { color: #e67e22; margin-top: 0; font-size: 1.3em; border-bottom: 1px dashed #f39c12; padding-bottom: 8px; margin-bottom: 15px; }
        .story-step { display: flex; align-items: flex-start; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dotted #eee; }
        .story-step:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0;}
        .story-step img { width: 80px; height: 80px; object-fit: cover; margin-right: 20px; border-radius: 4px; flex-shrink: 0; margin-top:5px;}
        .story-step-content { flex-grow: 1; }
        .story-step-content p, .practice-plan-card ul li, .cognitive-bleeding-card td p, .summary-card p, .summary-card ul li, .new-vocab-section ul li {
            margin: 5px 0; font-size: 1.1em;
        }
        .finnish-phrase { font-weight: bold; color: #16a085; font-size: 1.15em; }
        .example-sentence .finnish-phrase { font-size: 1.1em; }
        .chinese-sense, .note { font-size: 0.95em; color: #555; font-style: italic; }
        .tts-button { background: none; border: none; cursor: pointer; font-size: 1.2em; margin-left: 8px; padding: 0; display: inline-block; vertical-align: middle; color: #1abc9c; }
        .tts-button:hover { color: #117a65; opacity: 0.8; }
        .debug-section { background-color: #fffbf0; border: 2px solid #ffa500; padding: 15px; margin: 20px 0; border-radius: 8px; }
        .debug-button { background-color: #4CAF50; color: white; padding: 8px 16px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .debug-button:hover { background-color: #45a049; }
        .highlight { color: #c0392b; font-weight: bold; }
        hr { border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0,0,0,0), rgba(22,160,133,0.3), rgba(0,0,0,0)); margin: 40px 0; }
        .task-list { list-style-type: none; padding-left: 0; }
        .task-list > li { margin-bottom: 15px; }
        .task-list h5 { margin-top:0; color: #2c3e50; font-size: 1.15em; }
        .task-list ul { list-style-type: disc; padding-left: 25px; margin-top: 5px; }
        .task-list ul li { font-size: 1em; margin-bottom: 8px; }
        .final-summary-list { list-style-type: none; padding-left:0; }
        .final-summary-list li { margin-bottom: 10px; font-size: 1.1em;}
        .final-summary-list .finnish-phrase { font-weight: normal;}
        .interactive-choice button { background-color: #5dade2; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; margin: 8px; font-size: 1em; transition: background-color 0.2s; }
        .interactive-choice button:hover { background-color: #3498db; }
        .feedback-area { margin-top: 15px; padding: 12px; border-radius: 5px; text-align:center; font-size: 1.1em; min-height: 1.5em; }
        .correct { background-color: #d1f2eb; color: #0c6255; border: 1px solid #a3e4d7; }
        .incorrect { background-color: #fdedec; color: #c0392b; border: 1px solid #f5b7b1; }
        .action-button { background-color: #1abc9c; color: white; padding: 12px 18px; border: none; border-radius: 5px; cursor: pointer; margin-top:12px; font-size: 1em; transition: background-color 0.2s; }
        .action-button:hover { background-color: #117a65; }
        .comparison-container { display: flex; justify-content: space-around; margin-bottom: 20px; flex-wrap: wrap; }
        .comparison-item { text-align: center; width: 45%; margin-bottom: 15px; padding:10px; border:1px solid #eee; border-radius:5px; background-color: #f0fff0;}
        .comparison-item img { width: 100px; height: 100px; object-fit: cover; border-radius: 3px; margin-bottom: 10px;}
    </style>
</head>
<body>

    <h1>æ¨¡å—ä¸‰ï¼šã€ç©ºé—´å®šä½å™¨ã€‘ â€“ ç»´åº¦äºŒï¼šæ„ŸçŸ¥â€œè¡¨é¢â€ä¸â€œæ¥è§¦â€</h1> <!-- Title updated for Dimension 2 -->

    <!-- TTSè°ƒè¯•åŒºåŸŸ -->
    <div class="debug-section">
        <h3>ğŸ”§ TTSåŠŸèƒ½æµ‹è¯• (æ¨¡å—ä¸‰Â·ç»´åº¦äºŒ è¡¨é¢ç©ºé—´ æœ€ç»ˆä¼˜åŒ–ç‰ˆ)</h3>
        <p>å¦‚æœTTSæŒ‰é’®æ²¡æœ‰å£°éŸ³ï¼Œè¯·å…ˆæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
        <button class="debug-button" onclick="testBasicTTS()">æµ‹è¯•åŸºæœ¬TTS</button>
        <button class="debug-button" onclick="testFinnishTTSModule3_Dim2_Final()">æµ‹è¯•èŠ¬å…°è¯­TTS (æ¨¡å—3.2æœ€ç»ˆ)</button>
        <button class="debug-button" onclick="listVoices()">æŸ¥çœ‹å¯ç”¨è¯­éŸ³</button>
        <button class="debug-button" onclick="removeDebugSection()">ç§»é™¤è°ƒè¯•åŒºåŸŸ</button>
        <div id="debug-output" style="margin-top: 10px; padding: 10px; background-color: #f0f0f0; border-radius: 4px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;"></div>
    </div>

    <hr>

    <section id="intro-dimension2"> <!-- Changed ID for clarity -->
        <h2>ğŸš€ ç»´åº¦äºŒå¼•å…¥ï¼šæ¢ç´¢æ–°çš„å¹³é¢â€”â€”ä»â€œæ¯å­<span class="highlight">é‡Œ</span>â€åˆ°â€œæ¡Œå­<span class="highlight">ä¸Š</span>â€ï¼</h2>
        <div class="example">
            <p><span class="speakable-finnish">Upeaa tyÃ¶tÃ¤ dimensiossa yksi!</span> <span class="note speakable-finnish">(dimensio=ç»´åº¦)</span> (ç»´åº¦ä¸€å¹²å¾—æ¼‚äº®ï¼)</p>
            <p>åœ¨ç»´åº¦ä¸€ï¼Œæˆ‘ä»¬ä¸€èµ·æ„Ÿå—äº†èŠ¬å…°è¯­å¦‚ä½•æè¿°ç‰©ä½“â€œåœ¨**é‡Œé¢**â€(<span class="finnish-phrase speakable-finnish">-ssa/-ssÃ¤</span>)ã€â€œè·‘**è¿›å»**â€(<span class="finnish-phrase speakable-finnish">-Vn/-hVn/-seen</span>)ã€â€œé’»**å‡ºæ¥**â€(<span class="finnish-phrase speakable-finnish">-sta/-stÃ¤</span>)ã€‚ä½ è¿˜è®°å¾—é‚£ç§è¢«â€œå®¹å™¨â€åŒ…è£¹çš„æ„Ÿè§‰ï¼Œä»¥åŠè¿›å‡ºçš„åŠ¨æ€æ„Ÿå—ï¼Ÿ</p>
            
            <div class="comparison-container">
                <div class="comparison-item">
                    <p><strong>å›é¡¾ï¼šâ€œåœ¨é‡Œé¢â€</strong></p>
                    <img src="https://images.pexels.com/photos/1029796/pexels-photo-1029796.jpeg?auto=compress&cs=tinysrgb&w=200" alt="ç¬”åœ¨ç¬”ç­’é‡Œ">
                    <p><span class="speakable-finnish">KynÃ¤ on penaali<span class="highlight">ssa</span>.</span> (ç¬”åœ¨ç¬”ç­’<span class="highlight">é‡Œ</span>ã€‚)</p>
                </div>
                <div class="comparison-item">
                    <p><strong>æ–°æ¢ç´¢ï¼šâ€œåœ¨ä¸Šé¢â€</strong></p>
                    <img src="https://images.pexels.com/photos/261043/pexels-photo-261043.jpeg?auto=compress&cs=tinysrgb&w=200" alt="ç¬”åœ¨æ¡Œå­ä¸Š">
                    <p>é‚£å¦‚æœè¿™æ”¯ç¬”ï¼Œä¸æ˜¯åœ¨ç¬”ç­’â€œé‡Œé¢â€ï¼Œè€Œæ˜¯å¹³æ”¾åœ¨äº†æ¡Œå­â€œ**ä¸Šé¢**â€å‘¢ï¼Ÿå®ƒçš„â€œå°¾å·´éŸ³â€ä¼šä¸ä¼šæœ‰æ–°çš„å˜åŒ–ï¼Ÿ</p>
                </div>
            </div>
            <p>è¿™ä¸€ç»´åº¦ï¼Œæˆ‘ä»¬å°†æ¢ç´¢çš„å°±æ˜¯è¿™ç§â€œ**åœ¨ç‰©ä½“è¡¨é¢**â€æˆ–è€…â€œ**åœ¨æŸä¸ªå¼€æ”¾åœ°ç‚¹**â€çš„ç©ºé—´æ„Ÿè§‰ã€‚ä½ ä¼šå‘ç°ï¼ŒèŠ¬å…°è¯­è¯çš„â€œå°¾å·´éŸ³â€åˆä¼šæ–½å±•æ–°çš„é­”æ³•ï¼è®©æˆ‘ä»¬ç”¨å’Œç»´åº¦ä¸€å®Œå…¨ä¸€æ ·çš„æ–¹å¼ï¼Œé€šè¿‡æ–°çš„â€œå¾®æ•…äº‹â€æ¥æ„Ÿå—å®ƒä»¬å§ï¼</p>
        </div>
    </section>

    <hr>

    <section id="surface-spatial-stories">
        <h2>âœ¨ â€œè¡¨é¢æ¥è§¦â€çš„ç©ºé—´æ•…äº‹ (ä¸¥æ ¼éµå¾ªç»´åº¦ä¸€ç»“æ„)</h2>

        <!-- æ•…äº‹å¡ç‰‡ 1: æ¡Œå­ (PÃ¶ytÃ¤) -->
        <div class="story-card">
            <h4><span class="speakable-finnish">PÃ¶ydÃ¤n tarina</span> (æ¡Œå­çš„æ•…äº‹) - <span class="note speakable-finnish">(pÃ¶ytÃ¤ = æ¡Œå­)</span></h4>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/416320/pexels-photo-416320.jpeg?auto=compress&cs=tinysrgb&w=300" alt="æ‰‹æŠŠä¹¦æ”¾åˆ°æ¡Œå­ä¸Š">
                <div class="story-step-content">
                    <p><strong>1. æ”¾ä¸Šå»ï¼ (åˆ°è¡¨é¢å»çš„åŠ¨ä½œ)</strong> å½“æˆ‘æŠŠä¹¦æ”¾<span style="text-decoration: underline;">åˆ°</span>æ¡Œå­<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">MinÃ¤ laitan kirjan <span class="finnish-phrase">pÃ¶ydÃ¤lle</span>.</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘ æŠŠä¹¦ æ”¾<span style="text-decoration: underline;">åˆ°</span> æ¡Œå­<span class="highlight">ä¸Š</span>ã€‚ï¼ˆå¬ï¼<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤lle</span> è¿™ä¸ªè¯´æ³•ï¼Œå®ƒçš„â€œå°¾å·´éŸ³â€æ˜¯ä¸æ˜¯è®©ä½ æ„Ÿè§‰åˆ°ä¸€ç§â€œæœå‘ä¸€ä¸ªå¹³é¢ã€è½»è½»æ”¾ä¸Šå»â€çš„åŠ¨ä½œï¼Ÿè¿™å’Œæˆ‘ä»¬ä¹‹å‰å­¦â€œ<span class="highlight">è¿›</span>åˆ°æˆ¿å­<span class="highlight">é‡Œ</span>â€(<span class="finnish-phrase speakable-finnish">taloon</span>)é‚£ç§â€œå†²è¿›å»â€çš„å£°éŸ³æ„Ÿè§‰å¾ˆä¸ä¸€æ ·å§ï¼Ÿï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/261043/pexels-photo-261043.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ä¹¦åœ¨æ¡Œå­ä¸Š">
                <div class="story-step-content">
                    <p><strong>2. åœ¨ä¸Šé¢ï¼ (åœ¨è¡¨é¢çš„çŠ¶æ€)</strong> å½“æˆ‘çš„ä¹¦å·²ç»åœ¨æ¡Œå­<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">Minun kirja on <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>.</span> <span class="note speakable-finnish">(Minun = æˆ‘çš„)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘çš„ä¹¦ <span style="text-decoration: underline;">åœ¨</span> æ¡Œå­<span class="highlight">ä¸Š</span>ã€‚ï¼ˆå¬ï¼<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤llÃ¤</span> è¿™ä¸ªè¯´æ³•ï¼Œå®ƒçš„â€œå°¾å·´éŸ³â€æ˜¯ä¸æ˜¯è®©ä½ æ„Ÿè§‰åˆ°ä¹¦â€œå¹³ç¨³åœ°ã€æ¥è§¦ç€â€æ¡Œå­è¿™ä¸ªè¡¨é¢ï¼Ÿè¿™å’Œâ€œåœ¨æˆ¿å­<span class="highlight">é‡Œ</span>â€(<span class="finnish-phrase speakable-finnish">talossa</span>)é‚£ç§è¢«â€œåŒ…è£¹â€çš„å£°éŸ³æ„Ÿè§‰ä¹Ÿä¸åŒå“¦ã€‚ï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/34070/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=300" alt="æ‰‹ä»æ¡Œå­ä¸Šæ‹¿èµ·ä¹¦">
                <div class="story-step-content">
                    <p><strong>3. æ‹¿ä¸‹æ¥ï¼ (ä»è¡¨é¢ç¦»å¼€çš„åŠ¨ä½œ)</strong> å½“ä½ ä»æ¡Œå­<span class="highlight">ä¸Š</span>æ‹¿èµ·ä¹¦æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">SinÃ¤ otat kirjan <span class="finnish-phrase">pÃ¶ydÃ¤ltÃ¤</span>.</span> <span class="note speakable-finnish">(SinÃ¤ = ä½ )</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šä½  <span style="text-decoration: underline;">ä»</span> æ¡Œå­<span class="highlight">ä¸Š</span> æ‹¿èµ·ä¹¦ã€‚ï¼ˆå¬ï¼<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤ltÃ¤</span> è¿™ä¸ªè¯´æ³•ï¼Œå®ƒçš„â€œå°¾å·´éŸ³â€æ˜¯ä¸æ˜¯è®©ä½ æ„Ÿè§‰åˆ°ä¸€ç§â€œä»è¿™ä¸ªå¹³é¢ä¸Šç¦»å¼€ã€ä¸å†æ¥è§¦â€çš„åŠ¨ä½œï¼Ÿè¿™åˆå’Œâ€œä»æˆ¿å­<span class="highlight">é‡Œ</span>å‡ºæ¥â€(<span class="finnish-phrase speakable-finnish">talosta</span>)çš„â€œé‡Šæ”¾â€æ„Ÿæœ‰æ‰€åŒºåˆ«ã€‚ï¼‰</p>
                </div>
            </div>
            <div class="usage-example">
                <h4>ç®€å•æ—¥å¸¸æ€ä¹ˆç”¨ï¼Ÿ</h4>
                <p><span class="speakable-finnish">A: MissÃ¤ sinun kynÃ¤ on?</span> <span class="note speakable-finnish">(kynÃ¤ = ç¬”)</span></p>
                <p><span class="speakable-finnish">B: Minun kynÃ¤ on <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>. Laitatko sinÃ¤ sinun kupin myÃ¶s <span class="finnish-phrase">pÃ¶ydÃ¤lle</span>?</span> <span class="note speakable-finnish">(kuppi = æ¯å­, myÃ¶s = ä¹Ÿ)</span></p>
                <p><span class="speakable-finnish">A: KyllÃ¤, minÃ¤ laitan kupin <span class="finnish-phrase">pÃ¶ydÃ¤lle</span>. Sitten minÃ¤ otan sen <span class="finnish-phrase">pÃ¶ydÃ¤ltÃ¤</span>.</span> <span class="note speakable-finnish">(kyllÃ¤ = æ˜¯çš„, sitten = ç„¶å, sen = å®ƒ)</span></p>
            </div>
        </div>

        <!-- æ•…äº‹å¡ç‰‡ 2: æ¤…å­ (Tuoli) -->
        <div class="story-card">
            <h4><span class="speakable-finnish">Tuolin tarina</span> (æ¤…å­çš„æ•…äº‹) - <span class="note speakable-finnish">(tuoli = æ¤…å­)</span></h4>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/2082090/pexels-photo-2082090.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ä¸€ä¸ªäººååˆ°æ¤…å­ä¸Š">
                <div class="story-step-content">
                    <p><strong>1. åä¸Šå»ï¼</strong> å½“æˆ‘å<span style="text-decoration: underline;">åˆ°</span>æ¤…å­<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">MinÃ¤ istun <span class="finnish-phrase">tuolille</span>.</span> <span class="note speakable-finnish">(istun = æˆ‘å)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘ å<span style="text-decoration: underline;">åˆ°</span> æ¤…å­<span class="highlight">ä¸Š</span>ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">tuolille</span>ï¼Œä¸€ä¸ªâ€œåˆ°è¾¾æ¤…å­è¡¨é¢â€çš„åŠ¨ä½œéŸ³ï¼Œå’Œ <span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤lle</span> çš„æ„Ÿè§‰ç±»ä¼¼ï¼ï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/271795/pexels-photo-271795.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ä¸€ä¸ªäººååœ¨æ¤…å­ä¸Š">
                <div class="story-step-content">
                    <p><strong>2. åœ¨ä¸Šé¢ï¼</strong> å½“ä½ åœ¨æ¤…å­<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">SinÃ¤ istut <span class="finnish-phrase">tuolilla</span>.</span> <span class="note speakable-finnish">(istut = ä½ å)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šä½  <span style="text-decoration: underline;">åœ¨</span> æ¤…å­<span class="highlight">ä¸Š</span> åç€ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">tuolilla</span>ï¼Œå®‰ç¨³åœ°â€œåœ¨æ¤…å­è¿™ä¸ªæ”¯æ’‘å¹³é¢<span class="highlight">ä¸Š</span>â€ï¼Œå’Œ <span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤llÃ¤</span> çš„æ„Ÿè§‰ä¹Ÿä¸€æ ·ï¼ï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/210647/pexels-photo-210647.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ä¸€ä¸ªäººä»æ¤…å­ä¸Šç«™èµ·æ¥">
                <div class="story-step-content">
                    <p><strong>3. èµ·æ¥ï¼</strong> å½“æˆ‘ä»æ¤…å­<span class="highlight">ä¸Š</span>ç«™èµ·æ¥æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">MinÃ¤ nousen <span class="finnish-phrase">tuolilta</span>.</span> <span class="note speakable-finnish">(nousen = æˆ‘èµ·æ¥/èµ·èº«)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘ <span style="text-decoration: underline;">ä»</span> æ¤…å­<span class="highlight">ä¸Š</span> èµ·æ¥ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">tuolilta</span>ï¼Œä¸€ä¸ªâ€œç¦»å¼€æ¤…å­è¡¨é¢â€çš„åŠ¨ä½œéŸ³ï¼Œä¹Ÿå’Œ <span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤ltÃ¤</span> çš„æ„Ÿè§‰ä¸€è‡´ï¼ï¼‰</p>
                </div>
            </div>
            <div class="usage-example">
                <h4>ç®€å•æ—¥å¸¸æ€ä¹ˆç”¨ï¼Ÿ</h4>
                <p><span class="speakable-finnish">A: Istutko sinÃ¤ <span class="finnish-phrase">tuolille</span>?</span> <span class="note speakable-finnish">(istutko sinÃ¤ = ä½ åå—ï¼Ÿ)</span></p>
                <p><span class="speakable-finnish">B: KyllÃ¤, minÃ¤ istun tÃ¤lle <span class="finnish-phrase">tuolille</span>. Sinun laukku on myÃ¶s <span class="finnish-phrase">tuolilla</span>.</span> <span class="note speakable-finnish">(tÃ¤lle = åˆ°è¿™ä¸ªä¸Šé¢, laukku=åŒ…)</span></p>
                <p><span class="speakable-finnish">A: Kiitos. MinÃ¤ otan minun laukun <span class="finnish-phrase">tuolilta</span>.</span> <span class="note speakable-finnish">(minun laukun=æˆ‘çš„åŒ…(è¿™é‡Œç”¨å®¾æ ¼æ›´è‡ªç„¶ï¼Œä½†åˆæœŸç®€åŒ–))</span></p>
            </div>
        </div>

         <!-- æ•…äº‹å¡ç‰‡ 3: åœ°æ¿ (Lattia) -->
        <div class="story-card">
            <h4><span class="speakable-finnish">Lattian tarina</span> (åœ°æ¿çš„æ•…äº‹) - <span class="note speakable-finnish">(lattia = åœ°æ¿)</span></h4>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/4210315/pexels-photo-4210315.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ç¬”æ‰åˆ°åœ°æ¿ä¸Š">
                <div class="story-step-content">
                    <p><strong>1. æ‰ä¸Šå»ï¼</strong> å½“æˆ‘çš„ç¬”æ‰<span style="text-decoration: underline;">åˆ°</span>åœ°æ¿<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">Minun kynÃ¤ putoaa <span class="finnish-phrase">lattialle</span>.</span> <span class="note speakable-finnish">(putoaa = æ‰è½)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘çš„ç¬” æ‰<span style="text-decoration: underline;">åˆ°</span> åœ°æ¿<span class="highlight">ä¸Š</span>ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">lattialle</span>ï¼Œä¸œè¥¿åˆ°è¾¾ä¸€ä¸ªå¹³é¢ï¼Œé‚£ä¸ª `-lle` çš„â€œåˆ°è¾¾æ„Ÿâ€è¿˜åœ¨ï¼ï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/4577410/pexels-photo-4577410.jpeg?auto=compress&cs=tinysrgb&w=300" alt="é‹å­åœ¨åœ°æ¿ä¸Š">
                <div class="story-step-content">
                    <p><strong>2. åœ¨ä¸Šé¢ï¼</strong> å½“ä½ çš„é‹å­åœ¨åœ°æ¿<span class="highlight">ä¸Š</span>æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">Sinun kengÃ¤t ovat <span class="finnish-phrase">lattialla</span>.</span> <span class="note speakable-finnish">(kengÃ¤t=é‹å­å¤æ•°, ovat=æ˜¯/åœ¨(å¤æ•°))</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šä½ çš„é‹å­ <span style="text-decoration: underline;">åœ¨</span> åœ°æ¿<span class="highlight">ä¸Š</span>ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">lattialla</span>ï¼Œå¹¿æ³›åœ°é“ºåœ¨è¡¨é¢ï¼Œé‚£ä¸ª `-lla` çš„â€œå¹³é¢æ¥è§¦æ„Ÿâ€è¿˜åœ¨ï¼ï¼‰</p>
                </div>
            </div>
            <div class="story-step">
                <img src="https://images.pexels.com/photos/6969830/pexels-photo-6969830.jpeg?auto=compress&cs=tinysrgb&w=300" alt="ä»åœ°æ¿ä¸Šæ¡èµ·ç¬”">
                <div class="story-step-content">
                    <p><strong>3. æ¡èµ·æ¥ï¼</strong> å½“æˆ‘ä»åœ°æ¿<span class="highlight">ä¸Š</span>æ¡èµ·ç¬”æ—¶ï¼š</p>
                    <p class="example-sentence"><span class="speakable-finnish">MinÃ¤ nostan kynÃ¤n <span class="finnish-phrase">lattialta</span>.</span> <span class="note speakable-finnish">(nostan=æˆ‘æ‹¿èµ·/ä¸¾èµ·)</span></p>
                    <p class="chinese-sense">æ„ŸçŸ¥ï¼šæˆ‘ <span style="text-decoration: underline;">ä»</span> åœ°æ¿<span class="highlight">ä¸Š</span> æ¡èµ·ç¬”ã€‚ï¼ˆ<span class="finnish-phrase speakable-finnish">lattialta</span>ï¼Œä»è¿™ä¸ªå¤§å¹³é¢ä¸Šæ‹¿èµ°ï¼Œé‚£ä¸ª `-lta` çš„â€œåˆ†ç¦»æ„Ÿâ€è¿˜åœ¨ï¼ï¼‰</p>
                </div>
            </div>
            <div class="usage-example">
                <h4>ç®€å•æ—¥å¸¸æ€ä¹ˆç”¨ï¼Ÿ</h4>
                <p><span class="speakable-finnish">A: Miksi sinun kirja on <span class="finnish-phrase">lattialla</span>?</span> <span class="note speakable-finnish">(Miksi=ä¸ºä»€ä¹ˆ)</span></p>
                <p><span class="speakable-finnish">B: Anteeksi! MinÃ¤ laitan sen <span class="finnish-phrase">pÃ¶ydÃ¤lle</span> nyt.</span> <span class="note speakable-finnish">(Anteeksi=æŠ±æ­‰, nyt=ç°åœ¨)</span></p>
                <p><span class="speakable-finnish">A: HyvÃ¤. Ã„lÃ¤ laita sinun tavaroita <span class="finnish-phrase">lattialle</span>.</span> <span class="note speakable-finnish">(Ã¤lÃ¤ laita=åˆ«æ”¾, sinun tavaroita=ä½ çš„ä¸œè¥¿(éƒ¨åˆ†æ ¼å¤æ•°))</span></p>
            </div>
        </div>
    </section>

    <hr>

    <section id="surface-contact-immersion-table">
        <h3>ğŸ“‹ æ›´å¤šâ€œè¡¨é¢â€å’Œâ€œå¼€æ”¾åœ°ç‚¹â€çš„è¯´æ³•ï¼šé¥±å’Œæµ¸æ¶¦ (äººç§°é™å®šç‰ˆ)</h3>
        <div class="story-card"> 
            <p>åœ¨å­¦ä¹ äº†å‡ ä¸ªæ ¸å¿ƒçš„â€œè¡¨é¢å¾®æ•…äº‹â€åï¼Œè®©æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„è¡¨æ ¼ï¼Œæ¥è§¦æ›´å¤šå¸¸ç”¨åœ°ç‚¹å’Œç‰©ä½“åœ¨è¿™äº›â€œè¡¨é¢ç©ºé—´â€çŠ¶æ€ä¸‹çš„èŠ¬å…°è¯­è¯´æ³•ã€‚å¤§å£°æœ—è¯»å®ƒä»¬ï¼Œæ„Ÿå—å®ƒä»¬çš„å‘éŸ³ï¼Œå¹¶å°†å®ƒä»¬ä¸å¯¹åº”çš„ä¸­æ–‡æ„ŸçŸ¥è”ç³»èµ·æ¥ã€‚æ³¨æ„ä¾‹å¥ä¸­ä¸»è¦ä½¿ç”¨<span class="speakable-finnish">MinÃ¤</span> (æˆ‘) å’Œ <span class="speakable-finnish">SinÃ¤</span> (ä½ )ã€‚</p>
            <table class="immersion-table">
                <thead>
                    <tr>
                        <th>ä¸­æ–‡ (åŸå½¢)</th>
                        <th>åœ¨...ä¸Š/æ— (Adessiivi: <span class="finnish-phrase speakable-finnish">-lla/-llÃ¤</span> æ„Ÿ)</th>
                        <th>åˆ°...ä¸Š/æ—å» (Allatiivi: <span class="finnish-phrase speakable-finnish">-lle</span> æ„Ÿ)</th>
                        <th>ä»...ä¸Š/æ—ç¦»å¼€ (Ablatiivi: <span class="finnish-phrase speakable-finnish">-lta/-ltÃ¤</span> æ„Ÿ)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>è½¦ç«™</strong><br>(<span class="speakable-finnish">asema</span>)</td>
                        <td><span class="speakable-finnish">MinÃ¤ olen <span class="finnish-phrase">asemalla</span>.</span><br><span class="note speakable-finnish">SinÃ¤ seisot <span class="finnish-phrase">asemalla</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ menen <span class="finnish-phrase">asemalle</span>.</span><br><span class="note speakable-finnish">SinÃ¤ tulet <span class="finnish-phrase">asemalle</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ tulen <span class="finnish-phrase">asemalta</span>.</span><br><span class="note speakable-finnish">SinÃ¤ lÃ¤hdet <span class="finnish-phrase">asemalta</span>.</span></td>
                    </tr>
                    <tr>
                        <td><strong>è¡—é“</strong><br>(<span class="speakable-finnish">katu</span>)</td>
                        <td><span class="speakable-finnish">MinÃ¤ kÃ¤velen <span class="finnish-phrase">kadulla</span>.</span><br><span class="note speakable-finnish">SinÃ¤ nÃ¤et minut <span class="finnish-phrase">kadulla</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ menen <span class="finnish-phrase">kadulle</span>.</span><br><span class="note speakable-finnish">SinÃ¤ laitat pyÃ¶rÃ¤n <span class="finnish-phrase">kadulle</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ tulen <span class="finnish-phrase">kadulta</span>.</span><br><span class="note speakable-finnish">SinÃ¤ otat pallon <span class="finnish-phrase">kadulta</span>.</span></td>
                    </tr>
                    <tr>
                        <td><strong>é›†å¸‚/å¹¿åœº</strong><br>(<span class="speakable-finnish">tori</span>)</td>
                        <td><span class="speakable-finnish">MinÃ¤ olen <span class="finnish-phrase">torilla</span>.</span><br><span class="note speakable-finnish">SinÃ¤ istut <span class="finnish-phrase">torilla</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ menen <span class="finnish-phrase">torille</span>.</span><br><span class="note speakable-finnish">SinÃ¤ tulet <span class="finnish-phrase">torille</span> myÃ¶s.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ ostan kukkia <span class="finnish-phrase">torilta</span>.</span><br><span class="note speakable-finnish">SinÃ¤ lÃ¤hdet <span class="finnish-phrase">torilta</span>.</span></td>
                    </tr>
                     <tr>
                        <td><strong>æµ·è¾¹/æ²™æ»©</strong><br>(<span class="speakable-finnish">ranta</span>)</td>
                        <td><span class="speakable-finnish">MinÃ¤ olen <span class="finnish-phrase">rannalla</span>.</span><br><span class="note speakable-finnish">SinÃ¤ leikit <span class="finnish-phrase">rannalla</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ menen <span class="finnish-phrase">rannalle</span>.</span><br><span class="note speakable-finnish">SinÃ¤ kÃ¤velet <span class="finnish-phrase">rannalle</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ tulen <span class="finnish-phrase">rannalta</span>.</span><br><span class="note speakable-finnish">SinÃ¤ otat kiven <span class="finnish-phrase">rannalta</span>.</span></td>
                    </tr>
                    <tr>
                        <td><strong>çª—æˆ·/çª—å°</strong><br>(<span class="speakable-finnish">ikkuna</span>)</td>
                        <td><span class="speakable-finnish">Minun kukka on <span class="finnish-phrase">ikkunalla</span>.</span><br><span class="note speakable-finnish">SinÃ¤ seisot <span class="finnish-phrase">ikkunalla</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ laitan kirjan <span class="finnish-phrase">ikkunalle</span>.</span><br><span class="note speakable-finnish">SinÃ¤ katsot <span class="finnish-phrase">ikkunalle</span>.</span></td>
                        <td><span class="speakable-finnish">MinÃ¤ otan kupin <span class="finnish-phrase">ikkunalta</span>.</span><br><span class="note speakable-finnish">SinÃ¤ pyyhit pÃ¶lyn <span class="finnish-phrase">ikkunalta</span>.</span></td>
                    </tr>
                </tbody>
            </table>
            <div class="usage-example">
                <h4>ğŸ§  ä¸­æ–‡æ¯è¯­è€…æç¤ºï¼šæ„Ÿå—â€œè¡¨é¢â€çš„é­”æ³•</h4>
                <p>å½“ä½ å¬åˆ°æˆ–æƒ³è¯´ï¼š</p>
                <ul style="list-style-type: disc; padding-left: 20px;">
                    <li>â€œ<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤<span class="highlight">llÃ¤</span></span>â€ï¼šæƒ³è±¡ä¹¦æœ¬å®‰ç¨³åœ°â€œç«™â€åœ¨æ¡Œå­<span class="highlight">ä¸Š</span>ã€‚é‚£ä¸ª `-llÃ¤` çš„éŸ³ï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰â€œå¹³é¢æ¥è§¦â€çš„æ„Ÿè§‰ï¼Ÿ</li>
                    <li>â€œ<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤<span class="highlight">lle</span></span>â€ï¼šæƒ³è±¡ä½ è½»è½»åœ°æŠŠä¸€ä¸ªæ¯å­â€œæ‰˜ä¸¾â€ç€æ”¾<span class="highlight">åˆ°</span>æ¡Œå­<span class="highlight">ä¸Š</span>ã€‚é‚£ä¸ª `-lle` çš„éŸ³ï¼Œæ˜¯ä¸æ˜¯å¸¦ç€ä¸€ç§â€œæœå‘è¡¨é¢â€çš„æ¸©æŸ”åŠ¨ä½œæ„Ÿï¼Ÿ</li>
                    <li>â€œ<span class="finnish-phrase speakable-finnish">pÃ¶ydÃ¤<span class="highlight">ltÃ¤</span></span>â€ï¼šæƒ³è±¡ä½ å°å¿ƒåœ°ä»æ¡Œå­<span class="highlight">ä¸Š</span>æŠŠæ˜“ç¢å“â€œå–â€èµ°ã€‚é‚£ä¸ª `-ltÃ¤` çš„éŸ³ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€ç§â€œä»è¡¨é¢åˆ†ç¦»â€çš„æ¸…æ™°æ„Ÿï¼Ÿ</li>
                </ul>
                <p>è¿™äº›ç»†å¾®çš„å£°éŸ³å˜åŒ–ï¼Œå°±æ˜¯èŠ¬å…°è¯­ç”¨æ¥æç»˜ä¸åŒâ€œè¡¨é¢ç©ºé—´â€äº’åŠ¨çš„æ–¹å¼ï¼å¤šå¬ï¼Œå¤šæ„Ÿå—ï¼Œä½ çš„å¤§è„‘ä¼šè‡ªåŠ¨æ•æ‰è¿™äº›æ¨¡å¼ã€‚</p>
            </div>
        </div>
    </section>

    <hr>

    <section id="simple-interaction-practice-phase2">
        <h2>ğŸ’¡ åˆæ­¥äº’åŠ¨ï¼šå¬éŸ³è¾¨â€œè¡¨é¢ç©ºé—´æ•…äº‹â€</h2>
        <div class="story-card"> 
            <p>å’Œç»´åº¦ä¸€ç±»ä¼¼ï¼Œæ¥åšä¸ªå°ç»ƒä¹ ã€‚æˆ‘ä¼šæ’­æ”¾ä¸€ä¸ªèŠ¬å…°è¯ï¼Œè¯·ä½ æ ¹æ®å¬åˆ°çš„â€œå°¾éŸ³æ„Ÿè§‰â€ï¼Œåˆ¤æ–­å®ƒæè¿°çš„æ˜¯â€œæ”¾ä¸Šå»â€ã€â€œåœ¨ä¸Šé¢â€è¿˜æ˜¯â€œæ‹¿ä¸‹æ¥â€çš„åŠ¨ä½œæˆ–çŠ¶æ€ã€‚</p>
            <div style="text-align:center; margin: 20px 0;">
                <button class="action-button" onclick="playRandomSurfaceWord()">æ’­æ”¾ä¸‹ä¸€ä¸ªâ€œè¡¨é¢â€èŠ¬å…°è¯</button>
            </div>
            <p style="text-align:center; font-size: 1.5em; color: #16a085; margin-bottom:20px;" id="played-surface-word-display">- - -</p>
            <div class="interactive-choice" style="text-align: center;">
                <button onclick="checkSurfaceAnswer('to_surface')">æ„Ÿè§‰æ˜¯â€œæ”¾<span class="highlight">åˆ°...ä¸Š</span>å»â€ <span class="note speakable-finnish">(esim. pÃ¶ydÃ¤lle)</span></button>
                <button onclick="checkSurfaceAnswer('on_surface')">æ„Ÿè§‰æ˜¯â€œåœ¨...<span class="highlight">ä¸Š</span>é¢â€ <span class="note speakable-finnish">(esim. pÃ¶ydÃ¤llÃ¤)</span></button>
                <button onclick="checkSurfaceAnswer('from_surface')">æ„Ÿè§‰æ˜¯â€œä»...<span class="highlight">ä¸Š</span>æ‹¿å¼€â€ <span class="note speakable-finnish">(esim. pÃ¶ydÃ¤ltÃ¤)</span></button>
            </div>
            <div id="feedback-area-surface" class="feedback-area"></div>
        </div>
    </section>
    
    <hr>

    <section id="language-bleeding-plan-desk">
        <h2>ğŸ§ªã€è¯­è¨€å‡ºè¡€ã€‘â€œæˆ‘çš„ä¹¦æ¡Œâ€ç©ºé—´ä¸‰æ—¥æ¤å…¥è®¡åˆ’</h2>
        <div class="practice-plan-card">
            <ul class="task-list">
                <li>
                    <h5><span class="speakable-finnish">ğŸ“† ç¬¬1æ—¥ï¼šæ„ŸçŸ¥â€œåœ¨ä¸Šé¢â€ (<span class="finnish-phrase speakable-finnish">-lla/-llÃ¤</span>)</span></h5>
                    <ul>
                        <li><span class="speakable-finnish">æ¯æ¬¡çœ‹åˆ°ä½ çš„ç”µè„‘åœ¨ä¹¦æ¡Œä¸Šï¼Œå¯¹è‡ªå·±è¯´ï¼šâ€œMinun tietokone on <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>.â€</span></li>
                        <li><span class="speakable-finnish">å¦‚æœä½ çš„æ¯å­åœ¨ä¹¦æ¡Œä¸Šï¼Œå¯¹è‡ªå·±è¯´ï¼šâ€œMinun kuppi on <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>.â€</span></li>
                        <li><span class="speakable-finnish">è§‚å¯Ÿä¹¦æ¡Œä¸Šè¿˜æœ‰ä»€ä¹ˆï¼Œç”¨ "<span class="finnish-phrase speakable-finnish">X on pÃ¶ydÃ¤llÃ¤</span>" æ¥æè¿°ã€‚</span> <span class="note speakable-finnish">(X = ç‰©å“)</span></li>
                    </ul>
                </li>
                <li>
                    <h5><span class="speakable-finnish">ğŸ“† ç¬¬2æ—¥ï¼šæ„ŸçŸ¥â€œæ”¾ä¸Šå»â€ (<span class="finnish-phrase speakable-finnish">-lle</span>) ä¸ â€œæ‹¿ä¸‹æ¥â€ (<span class="finnish-phrase speakable-finnish">-lta/-ltÃ¤</span>)</span></h5>
                    <ul>
                        <li><span class="speakable-finnish">å½“ä½ æŠŠæ‰‹æœºæ”¾åˆ°ä¹¦æ¡Œä¸Šæ—¶ï¼Œè¾¹åšåŠ¨ä½œè¾¹è¯´ï¼šâ€œMinÃ¤ laitan puhelimen <span class="finnish-phrase">pÃ¶ydÃ¤lle</span>.â€</span></li>
                        <li><span class="speakable-finnish">å½“ä½ ä»ä¹¦æ¡Œä¸Šæ‹¿èµ·ä¸€æœ¬ä¹¦æ—¶ï¼Œè¾¹åšåŠ¨ä½œè¾¹è¯´ï¼šâ€œMinÃ¤ otan kirjan <span class="finnish-phrase">pÃ¶ydÃ¤ltÃ¤</span>.â€</span></li>
                        <li><span class="speakable-finnish">å°è¯•æè¿°ä½ æœ‹å‹çš„åŠ¨ä½œï¼šâ€œSinÃ¤ laitat kynÃ¤n <span class="finnish-phrase">pÃ¶ydÃ¤lle</span>.â€ â€œSinÃ¤ otat paperin <span class="finnish-phrase">pÃ¶ydÃ¤ltÃ¤</span>.â€</span></li>
                    </ul>
                </li>
                <li>
                    <h5><span class="speakable-finnish">ğŸ“† ç¬¬3æ—¥ï¼šç»¼åˆåº”ç”¨ä¸å¯¹æ¯”</span></h5>
                    <ul>
                        <li><span class="speakable-finnish">æè¿°ä¸€ä¸ªå®Œæ•´çš„è¿‡ç¨‹ï¼šâ€œMinÃ¤ otan kirjan <span class="finnish-phrase">laukusta</span> (ä»åŒ…é‡Œ) ja laitan sen <span class="finnish-phrase">pÃ¶ydÃ¤lle</span> (åˆ°æ¡Œä¸Š). Nyt kirja on <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>.â€</span></li>
                        <li><span class="speakable-finnish">å’Œæœ‹å‹å¯¹è¯ï¼šA: â€œMissÃ¤ sinun avaimet ovat?â€ B: â€œNe ovat <span class="finnish-phrase">pÃ¶ydÃ¤llÃ¤</span>.â€ A: â€œVoitko laittaa ne <span class="finnish-phrase">laukkuuni</span> (åˆ°æˆ‘çš„åŒ…é‡Œ)?â€ B: â€œSelvÃ¤, otan ne <span class="finnish-phrase">pÃ¶ydÃ¤ltÃ¤</span> ja laitan <span class="finnish-phrase">laukkuusi</span> (åˆ°ä½ çš„åŒ…é‡Œ).â€</span> <span class="note speakable-finnish">(Ne=å®ƒä»¬, voitko=ä½ èƒ½å—, laukkuuni=åˆ°æˆ‘çš„åŒ…é‡Œ, laukkuusi=åˆ°ä½ çš„åŒ…é‡Œ - è¿™äº›æ˜¯æ‰€æœ‰æ ¼åç¼€ï¼ŒåˆæœŸå…ˆæ•´ä½“æ„ŸçŸ¥)</span></li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>

    <hr>

    <section id="phase2-summary-and-next">
        <h2>ğŸŒŸ ç»´åº¦äºŒæ„ŸçŸ¥å°ç»“ï¼šä½ è§£é”äº†â€œè¡¨é¢â€ç©ºé—´ï¼(å«æœ¯è¯­é”šå®š)</h2>
        <div class="summary-card">
            <p>å¤ªæ£’äº†ï¼ä½ å·²ç»å¯¹èŠ¬å…°è¯­å¦‚ä½•æè¿°â€œåœ¨ç‰©ä½“è¡¨é¢â€æˆ–â€œåœ¨æŸä¸ªå¼€æ”¾åœ°ç‚¹â€æœ‰äº†åˆæ­¥çš„æ„ŸçŸ¥ï¼</p>
            <p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œè¿™äº›æ–°çš„â€œå°¾éŸ³æ„Ÿè§‰â€ä¸ç»´åº¦ä¸€çš„â€œå†…éƒ¨ç©ºé—´â€æ„Ÿè§‰æœ‰æ‰€ä¸åŒï¼š</p>
            <ul style="list-style-type: disc; padding-left: 20px;">
                <li>å½“ä½ æ„Ÿè§‰åˆ°æˆ–æƒ³è¡¨è¾¾â€œ<strong>åœ¨...ä¸Šé¢/æ—è¾¹</strong>â€è¿™ç§ä¸è¡¨é¢â€œæ¥è§¦â€æˆ–åœ¨æŸåœ°â€œåœç•™â€çš„é™æ€æ„Ÿè§‰æ—¶ï¼ŒèŠ¬å…°è¯­è¯çš„å°¾å·´å¬èµ·æ¥å¸¸å¸¸åƒ... <span class="finnish-phrase speakable-finnish">-lla</span> æˆ– <span class="finnish-phrase speakable-finnish">-llÃ¤</span> (æ¯”å¦‚ <span class="speakable-finnish">pÃ¶ydÃ¤llÃ¤, asemalla</span>)ã€‚<span class="note">åœ¨èŠ¬å…°è¯­è¯­æ³•ä¸­ï¼Œè¿™ç§è¡¨è¾¾â€œåœ¨...ä¸Šé¢/æ—è¾¹â€çŠ¶æ€çš„â€œå°¾å·´â€æˆ–å½¢å¼ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **<span class="speakable-finnish">adessiivi</span> (Adessive case)**ã€‚</span></li>
                <li>å½“ä½ æ„Ÿè§‰åˆ°æˆ–æƒ³è¡¨è¾¾â€œ<strong>åˆ°...ä¸Šé¢/æ—è¾¹å»</strong>â€è¿™ç§â€œæœå‘è¡¨é¢â€æˆ–â€œåˆ°è¾¾æŸåœ°â€çš„è¿›å…¥åŠ¨ä½œæ„Ÿæ—¶ï¼ŒèŠ¬å…°è¯­è¯çš„å°¾å·´å¬èµ·æ¥å¸¸å¸¸åƒ... <span class="finnish-phrase speakable-finnish">-lle</span> (æ¯”å¦‚ <span class="speakable-finnish">pÃ¶ydÃ¤lle, asemalle</span>)ã€‚<span class="note">è¿™ç§è¡¨è¾¾â€œåˆ°...ä¸Šé¢/æ—è¾¹å»â€åŠ¨ä½œçš„â€œå°¾å·´â€æˆ–å½¢å¼ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **<span class="speakable-finnish">allatiivi</span> (Allative case)**ã€‚</span></li>
                <li>å½“ä½ æ„Ÿè§‰åˆ°æˆ–æƒ³è¡¨è¾¾â€œ<strong>ä»...ä¸Šé¢/æ—è¾¹ç¦»å¼€</strong>â€è¿™ç§â€œä»è¡¨é¢åˆ†ç¦»â€æˆ–â€œä»æŸåœ°å‡ºå‘â€çš„ç¦»å¼€åŠ¨ä½œæ„Ÿæ—¶ï¼ŒèŠ¬å…°è¯­è¯çš„å°¾å·´å¬èµ·æ¥å¸¸å¸¸åƒ... <span class="finnish-phrase speakable-finnish">-lta</span> æˆ– <span class="finnish-phrase speakable-finnish">-ltÃ¤</span> (æ¯”å¦‚ <span class="speakable-finnish">pÃ¶ydÃ¤ltÃ¤, asemalta</span>)ã€‚<span class="note">è€Œè¿™ç§è¡¨è¾¾â€œä»...ä¸Šé¢/æ—è¾¹ç¦»å¼€â€åŠ¨ä½œçš„â€œå°¾å·´â€æˆ–å½¢å¼ï¼Œåˆ™è¢«ç§°ä¸º **<span class="speakable-finnish">ablatiivi</span> (Ablative case)**ã€‚</span></li>
            </ul>
            <p class="note speakable-finnish">NÃ¤mÃ¤kin nimet, <span class="finnish-phrase">adessiivi</span>, <span class="finnish-phrase">allatiivi</span> ja <span class="finnish-phrase">ablatiivi</span>, ovat vain viitteitÃ¤. Jatka tÃ¤rkeintÃ¤: tunteen ja Ã¤Ã¤nen yhdistÃ¤mistÃ¤!</p>
            <p class="note">(è¿™äº›åç§°ï¼Œadessiivi, allatiivi å’Œ ablatiiviï¼Œä¹Ÿåªæ˜¯å‚è€ƒæ ‡è®°ã€‚ç»§ç»­åšæœ€é‡è¦çš„äº‹ï¼šè¿æ¥æ„Ÿè§‰å’Œå£°éŸ³ï¼)</p>
            <p>è¿™å°±æ˜¯èŠ¬å…°è¯­çš„ç²¾å¦™ä¹‹å¤„ï¼é€šè¿‡è¿™äº›ç»†å¾®çš„â€œå°¾éŸ³å˜åŒ–â€ï¼Œå°±èƒ½æ¸…æ™°åœ°è¡¨è¾¾ä¸åŒçš„ç©ºé—´å…³ç³»ã€‚ç»§ç»­ä¿æŒè¿™ç§â€œç”¨è€³æœµå’Œèº«ä½“å»æ„Ÿå—â€çš„å­¦ä¹ æ–¹å¼ï¼Œä½ æ­£åœ¨ç¨³æ­¥å‰è¿›ï¼</p>
            <p><strong>ä¸‹ä¸€ç»´åº¦ï¼š</strong>æˆ‘ä»¬å°†æ¢ç´¢å¦‚ä½•ä»¥â€œæˆ‘â€ä¸ºä¸­å¿ƒï¼Œæè¿°æ›´å…·ä½“çš„â€œ<span class="speakable-finnish">å‰åå·¦å³ä¸Šä¸‹è¿œè¿‘</span>â€ï¼Œè¿›å…¥ã€ç›¸å¯¹ç©ºé—´ã€‘çš„å¥‡å¦™ä¸–ç•Œï¼</p>
        </div>
    </section>

    <hr>
    <section id="new-vocabulary-list-m3p2" class="new-vocab-section">
        <h3>ğŸ“š æœ¬ç»´åº¦æ–°æœ‹å‹ï¼šè¯æ±‡ç§¯ç´¯ (èšç„¦æ ¸å¿ƒï¼Œç¬¬ä¸€äºŒäººç§°å•æ•°ç›¸å…³åŠ¨è¯å˜åŒ–)</h3>
        <p>ä»¥ä¸‹æ˜¯æœ¬ç»´åº¦ï¼ˆæ¨¡å—ä¸‰Â·ç»´åº¦äºŒï¼‰ä¸»è¦æ¥è§¦åˆ°çš„æ–°åœ°ç‚¹/ç‰©å“åè¯ï¼Œä»¥åŠä¸€äº›éå¸¸åŸºç¡€ä¸”é«˜é¢‘çš„åŠ¨è¯ã€‚å¯¹äºåŠ¨è¯ï¼Œæˆ‘ä»¬ç›®å‰ä¸»è¦å…³æ³¨å®ƒä»¬ä¸<span class="speakable-finnish">MinÃ¤</span> (æˆ‘) å’Œ <span class="speakable-finnish">SinÃ¤</span> (ä½ ) æ­é…æ—¶çš„ç®€å•å½¢å¼ã€‚ç†Ÿæ‚‰å®ƒä»¬å°†å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œè¿ç”¨æœ¬é˜¶æ®µçš„ç©ºé—´è¡¨è¾¾ï¼</p>
        <table class="vocab-list-table">
            <thead>
                <tr>
                    <th>èŠ¬å…°è¯­æ–°è¯ (åŸå½¢)</th>
                    <th>ä¸­æ–‡æ„æ€</th>
                    <th>ä½ å¯èƒ½è§åˆ°çš„å½¢å¼ (æœ¬é˜¶æ®µæ ¸å¿ƒ)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Nouns (New for this phase or strongly reinforced) -->
                <tr><td><span class="speakable-finnish">pÃ¶ytÃ¤</span></td><td>æ¡Œå­</td><td><span class="speakable-finnish">pÃ¶ydÃ¤llÃ¤, pÃ¶ydÃ¤lle, pÃ¶ydÃ¤ltÃ¤</span></td></tr>
                <tr><td><span class="speakable-finnish">tuoli</span></td><td>æ¤…å­</td><td><span class="speakable-finnish">tuolilla, tuolille, tuolilta</span></td></tr>
                <tr><td><span class="speakable-finnish">lattia</span></td><td>åœ°æ¿</td><td><span class="speakable-finnish">lattialla, lattialle, lattialta</span></td></tr>
                <tr><td><span class="speakable-finnish">asema</span></td><td>è½¦ç«™</td><td><span class="speakable-finnish">asemalla, asemalle, asemalta</span></td></tr>
                <tr><td><span class="speakable-finnish">katu</span></td><td>è¡—é“</td><td><span class="speakable-finnish">kadulla, kadulle, kadulta</span></td></tr>
                <tr><td><span class="speakable-finnish">tori</span></td><td>é›†å¸‚ï¼Œå¹¿åœº</td><td><span class="speakable-finnish">torilla, torille, torilta</span></td></tr>
                <tr><td><span class="speakable-finnish">ranta</span></td><td>æµ·è¾¹ï¼Œæ²™æ»©ï¼Œå²¸è¾¹</td><td><span class="speakable-finnish">rannalla, rannalle, rannalta</span></td></tr>
                <tr><td><span class="speakable-finnish">ikkuna</span></td><td>çª—æˆ·</td><td><span class="speakable-finnish">ikkunalla, ikkunalle, ikkunalta</span></td></tr>
                <tr><td><span class="speakable-finnish">kissa</span></td><td>çŒ«</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kuppi</span></td><td>æ¯å­</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kynÃ¤</span></td><td>ç¬”</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kirja</span></td><td>ä¹¦</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">pyÃ¶rÃ¤</span></td><td>è‡ªè¡Œè½¦</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">koira</span></td><td>ç‹—</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kukka</span></td><td>èŠ±</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kivi</span></td><td>çŸ³å¤´</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">verho</span></td><td>çª—å¸˜</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">pÃ¶ly</span></td><td>ç°å°˜</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">kenkÃ¤</span></td><td>é‹å­ (å•æ•°)</td><td><span class="note speakable-finnish">(ä¾‹å¥ä¸­å¸¸ç”¨å¤æ•°: kengÃ¤t)</span></td></tr>
                <tr><td><span class="speakable-finnish">sukka</span></td><td>è¢œå­ (å•æ•°)</td><td><span class="note speakable-finnish">(ä¾‹å¥ä¸­å¸¸ç”¨å¤æ•°: sukat)</span></td></tr>
                <tr><td><span class="speakable-finnish">tietokone</span></td><td>ç”µè„‘</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">penaali</span></td><td>ç¬”ç­’</td><td><span class="note">(æ¥è‡ªå¼•å…¥éƒ¨åˆ†çš„å¤ä¹ )</span></td></tr>


                <!-- Verbs (Focus on 1st/2nd person singular if applicable) -->
                <tr><td><span class="speakable-finnish">nÃ¤hdÃ¤</span></td><td>çœ‹è§</td><td><span class="speakable-finnish">minÃ¤ nÃ¤en, sinÃ¤ nÃ¤et</span></td></tr>
                <tr><td><span class="speakable-finnish">istua</span></td><td>å</td><td><span class="speakable-finnish">minÃ¤ istun, sinÃ¤ istut</span></td></tr>
                <tr><td><span class="speakable-finnish">seisoa</span></td><td>ç«™</td><td><span class="speakable-finnish">minÃ¤ seison, sinÃ¤ seisot</span></td></tr>
                <tr><td><span class="speakable-finnish">kÃ¤vellÃ¤</span></td><td>èµ°è·¯</td><td><span class="speakable-finnish">minÃ¤ kÃ¤velen, sinÃ¤ kÃ¤velet</span></td></tr>
                <tr><td><span class="speakable-finnish">hypÃ¤tÃ¤</span></td><td>è·³</td><td><span class="note">(ä¾‹å¥ä¸­ä¸»è¦æ˜¯ç¬¬ä¸‰äººç§°: kissa hyppÃ¤Ã¤)</span></td></tr>
                <tr><td><span class="speakable-finnish">nukkua</span></td><td>ç¡è§‰</td><td><span class="note">(ä¾‹å¥ä¸­ä¸»è¦æ˜¯ç¬¬ä¸‰äººç§°: kissa nukkuu)</span></td></tr>
                <tr><td><span class="speakable-finnish">pudota</span></td><td>æ‰è½</td><td><span class="speakable-finnish">minÃ¤ putoan, sinÃ¤ putoat</span> <span class="note">(æˆ–ç¬¬ä¸‰äººç§°: kynÃ¤ putoaa)</span></td></tr>
                <tr><td><span class="speakable-finnish">vieriÃ¤</span></td><td>æ»šåŠ¨</td><td><span class="note">(ä¾‹å¥ä¸­ä¸»è¦æ˜¯ç¬¬ä¸‰äººç§°: pallo vierii)</span></td></tr>
                <tr><td><span class="speakable-finnish">nostaa</span></td><td>æ‹¿èµ·ï¼Œä¸¾èµ·</td><td><span class="speakable-finnish">minÃ¤ nostan, sinÃ¤ nostat</span></td></tr>
                <tr><td><span class="speakable-finnish">myydÃ¤</span></td><td>å–</td><td><span class="speakable-finnish">minÃ¤ myyn, sinÃ¤ myyt</span></td></tr>
                <tr><td><span class="speakable-finnish">ostaa</span></td><td>ä¹°</td><td><span class="speakable-finnish">minÃ¤ ostan, sinÃ¤ ostat</span></td></tr>
                <tr><td><span class="speakable-finnish">lÃ¤hteÃ¤</span></td><td>å‡ºå‘ï¼Œç¦»å¼€</td><td><span class="speakable-finnish">minÃ¤ lÃ¤hden, sinÃ¤ lÃ¤hdet</span></td></tr>
                <tr><td><span class="speakable-finnish">pyyhkiÃ¤</span></td><td>æ“¦æ‹­</td><td><span class="speakable-finnish">minÃ¤ pyyhin, sinÃ¤ pyyhit</span></td></tr>
                <tr><td><span class="speakable-finnish">leikkiÃ¤</span></td><td>ç©è€</td><td><span class="speakable-finnish">minÃ¤ leikin, sinÃ¤ leikit</span></td></tr>
                <tr><td><span class="speakable-finnish">katsoa</span></td><td>çœ‹</td><td><span class="speakable-finnish">minÃ¤ katson, sinÃ¤ katsot</span></td></tr>
                <tr><td><span class="speakable-finnish">rakentaa</span></td><td>å»ºé€ </td><td><span class="speakable-finnish">minÃ¤ rakennan, sinÃ¤ rakennat</span></td></tr>
                <!-- Adverbs/Others (already simple) -->
                <tr><td><span class="speakable-finnish">myÃ¶s</span></td><td>ä¹Ÿ</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">jo</span></td><td>å·²ç»</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">vielÃ¤</span></td><td>è¿˜ï¼Œä»ç„¶</td><td>-</td></tr>
                <tr><td><span class="speakable-finnish">nyt</span></td><td>ç°åœ¨</td><td>-</td></tr>
                 <tr><td><span class="speakable-finnish">sitten</span></td><td>ç„¶å</td><td>-</td></tr>
                 <tr><td><span class="speakable-finnish">anteeksi</span></td><td>æŠ±æ­‰ï¼Œè¯·é—®</td><td>(å¤ä¹ )</td></tr>
                 <tr><td><span class="speakable-finnish">kyllÃ¤</span></td><td>æ˜¯çš„</td><td>(å¤ä¹ )</td></tr>
                 <tr><td><span class="speakable-finnish">ei</span></td><td>ä¸ï¼Œä¸æ˜¯</td><td>(å¤ä¹ )</td></tr>
                 <tr><td><span class="speakable-finnish">kiitos</span></td><td>è°¢è°¢</td><td>(å¤ä¹ )</td></tr>
            </tbody>
        </table>
    </section>


<script>
    const finnishLang = 'fi-FI';

    function debugLog(message) {
        const output = document.getElementById('debug-output');
        if (output && output.innerHTML !== undefined) {
            const time = new Date().toLocaleTimeString();
            output.innerHTML += `[${time}] ${message}<br>`;
            output.scrollTop = output.scrollHeight;
        }
    }

    function testBasicTTS() {
        debugLog('å¼€å§‹æµ‹è¯•åŸºæœ¬TTSåŠŸèƒ½...');
        if (!('speechSynthesis' in window)) {
            debugLog('âŒ é”™è¯¯ï¼šæµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆAPI');
            alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½ã€‚');
            return;
        }
        debugLog('âœ… æµè§ˆå™¨æ”¯æŒè¯­éŸ³åˆæˆAPI');
        const utterance = new SpeechSynthesisUtterance('Hello World');
        utterance.onstart = () => debugLog('âœ… è‹±è¯­æµ‹è¯•å¼€å§‹æ’­æ”¾');
        utterance.onend = () => debugLog('âœ… è‹±è¯­æµ‹è¯•æ’­æ”¾å®Œæˆ');
        utterance.onerror = (event) => debugLog('âŒ è‹±è¯­æµ‹è¯•é”™è¯¯: ' + event.error);
        window.speechSynthesis.speak(utterance);
    }

    function testFinnishTTSModule3_2_Final() { 
        debugLog('å¼€å§‹æµ‹è¯•èŠ¬å…°è¯­TTSåŠŸèƒ½ (æ¨¡å—3.2æœ€ç»ˆä¼˜åŒ–)...');
        const utterance = new SpeechSynthesisUtterance('MinÃ¤ laitan kirjan pÃ¶ydÃ¤lle.');
        utterance.lang = finnishLang;
        utterance.onstart = () => debugLog('âœ… èŠ¬å…°è¯­(M3.2 Final)æµ‹è¯•å¼€å§‹æ’­æ”¾');
        utterance.onend = () => debugLog('âœ… èŠ¬å…°è¯­(M3.2 Final)æµ‹è¯•æ’­æ”¾å®Œæˆ');
        utterance.onerror = (event) => debugLog('âŒ èŠ¬å…°è¯­(M3.2 Final)æµ‹è¯•é”™è¯¯: ' + event.error);
        window.speechSynthesis.speak(utterance);
    }
     function listVoices() {
        debugLog('æ­£åœ¨è·å–å¯ç”¨è¯­éŸ³åˆ—è¡¨...');
        const voices = window.speechSynthesis.getVoices();
        if (voices.length === 0) {
            debugLog('âš ï¸ æœªæ‰¾åˆ°ä»»ä½•è¯­éŸ³ï¼Œè¯­éŸ³å¯èƒ½è¿˜åœ¨åŠ è½½ä¸­ã€‚');
            window.speechSynthesis.onvoiceschanged = () => {
                debugLog('è¯­éŸ³åˆ—è¡¨å·²æ›´æ–°ï¼Œé‡æ–°è·å–...');
                const updatedVoices = window.speechSynthesis.getVoices();
                if (updatedVoices.length === 0 && voices.length === 0) { 
                    debugLog('âš ï¸ æ›´æ–°åä»æœªæ‰¾åˆ°ä»»ä½•è¯­éŸ³ã€‚'); return;
                }
                if (updatedVoices.length > 0) logVoiceList(updatedVoices);
            };
            if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || (navigator.userAgent.toLowerCase().indexOf('safari') > -1 && navigator.userAgent.toLowerCase().indexOf('chrome') === -1) ) {
                setTimeout(() => { if(window.speechSynthesis.getVoices().length > 0) listVoices(); }, 500);
            }
            return;
        }
        logVoiceList(voices);
    }
     function logVoiceList(voices) {
        debugLog(`æ‰¾åˆ° ${voices.length} ä¸ªå¯ç”¨è¯­éŸ³:`);
        voices.forEach((voice, index) => {
            const isDefault = voice.default ? ' (é»˜è®¤)' : '';
            debugLog(`${index + 1}. ${voice.name} (${voice.lang})${isDefault}`);
        });
        const finnishVoices = voices.filter(voice =>
            voice.lang.toLowerCase().startsWith('fi') ||
            voice.name.toLowerCase().includes('finnish') ||
            voice.name.toLowerCase().includes('suomi')
        );
        if (finnishVoices.length > 0) {
            debugLog(`âœ… æ‰¾åˆ° ${finnishVoices.length} ä¸ªèŠ¬å…°è¯­è¯­éŸ³:`);
            finnishVoices.forEach(voice => {
                debugLog(`  - ${voice.name} (${voice.lang})`);
            });
        } else {
            debugLog('âŒ æœªæ‰¾åˆ°èŠ¬å…°è¯­è¯­éŸ³ã€‚');
        }
    }

    function removeDebugSection() {
        const debugSection = document.querySelector('.debug-section');
        if (debugSection) {
            debugSection.style.display = 'none';
            debugLog('è°ƒè¯•åŒºåŸŸå·²éšè—');
        }
    }

    let isSpeaking = false;
    function speakText(text, lang = finnishLang) {
        if (!('speechSynthesis' in window)) return;
        if (isSpeaking) {
            window.speechSynthesis.cancel();
            setTimeout(() => startSpeaking(text, lang), 50);
        } else {
            startSpeaking(text, lang);
        }
    }

    function startSpeaking(text, lang) {
        isSpeaking = true;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = lang;
        utterance.rate = 0.9;
        utterance.pitch = 1.0;
        utterance.volume = 1.0;
        const voices = window.speechSynthesis.getVoices();
        let selectedVoice = null;
        if (lang.toLowerCase().startsWith('fi')) {
            selectedVoice = voices.find(voice => voice.lang.toLowerCase() === 'fi-fi') ||
                            voices.find(voice => voice.lang.toLowerCase().startsWith('fi')) ||
                            voices.find(voice => voice.name.toLowerCase().includes('finnish') || voice.name.toLowerCase().includes('suomi'));
        }
        if (selectedVoice) utterance.voice = selectedVoice;
        utterance.onend = () => { isSpeaking = false; };
        utterance.onerror = (event) => {
            debugLog(`âŒ æ’­æ”¾é”™è¯¯: ${event.error} (æ–‡æœ¬: "${text}")`);
            isSpeaking = false;
        };
        window.speechSynthesis.speak(utterance);
    }

    function addTTSButton(element, textToSpeak) {
        let cleanedText = textToSpeak.replace(/\s*\(.*?\)\s*/g, '').trim(); 
        cleanedText = cleanedText.replace(/ï¼ˆ.*?ï¼‰/g, '').trim();
        cleanedText = cleanedText.replace(/\[.*?\]/g, '').trim();

        if (!cleanedText || cleanedText === '') return;
        
        const existingButton = Array.from(element.childNodes).find(node => node.nodeType === Node.ELEMENT_NODE && node.classList.contains('tts-button') && node.title === 'æ’­æ”¾: ' + cleanedText);
        if (existingButton) return;

        const button = document.createElement('button');
        button.className = 'tts-button';
        button.innerHTML = 'ğŸ”Š';
        button.title = 'æ’­æ”¾: ' + cleanedText;
        button.setAttribute('aria-label', 'æ’­æ”¾éŸ³é¢‘: ' + cleanedText);
        button.onclick = (event) => {
            event.preventDefault();
            event.stopPropagation();
            speakText(cleanedText);
        };
        
        if (element.tagName === 'SPAN' && (element.classList.contains('speakable-finnish') || element.classList.contains('finnish-phrase'))) {
            if (!element.querySelector('.tts-button')) {
                element.appendChild(button);
            }
        } else {
            let insertBeforeNode = null;
            for (let i = 0; i < element.childNodes.length; i++) {
                const child = element.childNodes[i];
                if (child.nodeType === Node.ELEMENT_NODE && (child.classList.contains('note') || child.classList.contains('chinese-sense'))) {
                    insertBeforeNode = child;
                    break;
                }
            }
            if (insertBeforeNode) {
                element.insertBefore(button, insertBeforeNode);
            } else {
                element.appendChild(button);
            }
        }
    }
    
    function initializeTTSForPage() {
        debugLog('ğŸš€ åˆå§‹åŒ–é¡µé¢TTSæŒ‰é’® (æ¨¡å—ä¸‰Â·ç»´åº¦äºŒ è¡¨é¢ç©ºé—´ æœ€ç»ˆä¼˜åŒ–ç‰ˆ)...');
        
        document.querySelectorAll('.speakable-finnish, .finnish-phrase').forEach(span => {
            const text = span.textContent.trim();
            if (text && !span.querySelector('.tts-button')) {
                 addTTSButton(span, text);
            }
        });

        const sentenceLevelContainers = [
            ...document.querySelectorAll('.comparison-item p'),
            ...document.querySelectorAll('.immersion-table td'), 
            ...document.querySelectorAll('.usage-example p'), 
            ...document.querySelectorAll('.interactive-choice button'),
            ...document.querySelectorAll('#phase2-summary-and-next .summary-card p'),
            ...document.querySelectorAll('#phase2-summary-and-next .summary-card ul li'),
            ...document.querySelectorAll('.practice-plan-card .task-list ul li'), 
            ...document.querySelectorAll('#intro-phase2 .example p'),
            ...document.querySelectorAll('.new-vocab-section .vocab-list-table td:first-child'),
            ...document.querySelectorAll('.new-vocab-section .vocab-list-table td:nth-child(3)') 
        ];

        sentenceLevelContainers.forEach(el => {
            if (el.classList.contains('speakable-finnish') || el.classList.contains('finnish-phrase')) return;
            if (el.querySelector('.tts-button')) { 
                let hasOwnButton = false;
                for(let child of el.childNodes){
                    if(child.nodeType === Node.ELEMENT_NODE && child.classList.contains('tts-button')){
                        hasOwnButton = true;
                        break;
                    }
                }
                if(hasOwnButton || el.querySelector('.speakable-finnish .tts-button')) return;
            }
            if (el.closest('thead')) return;

            let textToSpeak = "";
            Array.from(el.childNodes).forEach(node => {
                if (node.nodeType === Node.TEXT_NODE) {
                    textToSpeak += node.textContent;
                } else if (node.nodeType === Node.ELEMENT_NODE &&
                           !node.classList.contains('note') &&
                           !node.classList.contains('chinese-sense') &&
                           !node.classList.contains('tts-button') &&
                           !node.classList.contains('speakable-finnish') && 
                           !node.classList.contains('finnish-phrase') &&
                           !node.classList.contains('highlight') 
                           ) {
                    textToSpeak += node.textContent; 
                }
            });
            textToSpeak = textToSpeak.trim();
            
            if (textToSpeak.length > 1 && textToSpeak.match(/[Ã¤Ã¶Ã¥Ã„Ã–Ã…]/i)) { 
                addTTSButton(el, textToSpeak);
            }
        });
        
        document.querySelectorAll('.story-card h4 .speakable-finnish, .practice-plan-card .task-list h5 .speakable-finnish').forEach(el => {
             if(!el.querySelector('.tts-button')) addTTSButton(el, el.textContent);
        });
        // Add TTS to the main title h2 of sections
        document.querySelectorAll('#intro-phase2 h2, #surface-spatial-stories h2, #surface-contact-immersion-table h3, #simple-interaction-practice-phase2 h2, #language-bleeding-plan-desk h2, #phase2-summary-and-next h2, #new-vocabulary-list-m3p2 h3').forEach(h => {
            if (!h.querySelector('.tts-button')) {
                const text = h.textContent.split('(')[0].trim(); // Get text before parenthesis
                if (text.length > 1 && text.match(/[Ã¤Ã¶Ã¥Ã„Ã–Ã…]/i)) {
                    addTTSButton(h, text);
                }
            }
        });


        debugLog('âœ… é¡µé¢TTSæŒ‰é’®åˆå§‹åŒ–å®Œæ¯• (æ¨¡å—ä¸‰Â·ç»´åº¦äºŒ è¡¨é¢ç©ºé—´ æœ€ç»ˆä¼˜åŒ–ç‰ˆ)');
    }
    
    const surfaceSpatialWords = [
        { word: "pÃ¶ydÃ¤lle", type: "to_surface", display: "pÃ¶ydÃ¤lle" },
        { word: "pÃ¶ydÃ¤llÃ¤", type: "on_surface", display: "pÃ¶ydÃ¤llÃ¤" },
        { word: "pÃ¶ydÃ¤ltÃ¤", type: "from_surface", display: "pÃ¶ydÃ¤ltÃ¤" },
        { word: "tuolille", type: "to_surface", display: "tuolille" },
        { word: "tuolilla", type: "on_surface", display: "tuolilla" },
        { word: "tuolilta", type: "from_surface", display: "tuolilta" },
        { word: "lattialle", type: "to_surface", display: "lattialle" },
        { word: "lattialla", type: "on_surface", display: "lattialla" },
        { word: "lattialta", type: "from_surface", display: "lattialta" },
        { word: "asemalle", type: "to_surface", display: "asemalle" },
        { word: "asemalla", type: "on_surface", display: "asemalla" },
        { word: "asemalta", type: "from_surface", display: "asemalta" },
        { word: "kadulle", type: "to_surface", display: "kadulle" },
        { word: "kadulla", type: "on_surface", display: "kadulla" },
        { word: "kadulta", type: "from_surface", display: "kadulta" },
        { word: "torille", type: "to_surface", display: "torille" },
        { word: "torilla", type: "on_surface", display: "torilla" },
        { word: "torilta", type: "from_surface", display: "torilta" }
    ];
    let currentSurfaceSpatialWord = null;
    const playedSurfaceWordDisplay = document.getElementById('played-surface-word-display');
    const surfaceSpatialFeedbackEl = document.getElementById('feedback-area-surface');

    function playRandomSurfaceWord() {
        if (isSpeaking) window.speechSynthesis.cancel(); 
        currentSurfaceSpatialWord = surfaceSpatialWords[Math.floor(Math.random() * surfaceSpatialWords.length)];
        if (playedSurfaceWordDisplay) {
            const displaySpanId = "playedSurfaceWordSpan";
            playedSurfaceWordDisplay.innerHTML = `<span id="${displaySpanId}" class="finnish-phrase speakable-finnish">${currentSurfaceSpatialWord.display}</span>`;
            const newSpan = document.getElementById(displaySpanId);
            if (newSpan && !newSpan.querySelector('.tts-button')) {
                addTTSButton(newSpan, newSpan.textContent);
            }
        }
        speakText(currentSurfaceSpatialWord.word);
        if (surfaceSpatialFeedbackEl) {
            surfaceSpatialFeedbackEl.innerHTML = ""; 
            surfaceSpatialFeedbackEl.className = 'feedback-area';
        }
    }

    function checkSurfaceAnswer(selectedType) {
        if (!currentSurfaceSpatialWord) {
            if (surfaceSpatialFeedbackEl) surfaceSpatialFeedbackEl.innerHTML = "Paina 'æ’­æ”¾ä¸‹ä¸€ä¸ªâ€œè¡¨é¢â€èŠ¬å…°è¯' ensin!";
            return;
        }
        let feedbackText = "";
        if (selectedType === currentSurfaceSpatialWord.type) {
            feedbackText = `<span class="speakable-finnish">Oikein!</span> Sana <span class="finnish-phrase speakable-finnish">${currentSurfaceSpatialWord.word}</span> kuvaa juuri sitÃ¤ tunnetta.`;
            if (surfaceSpatialFeedbackEl) surfaceSpatialFeedbackEl.className = 'feedback-area correct';
        } else {
            feedbackText = `<span class="speakable-finnish">Ei ihan.</span> Sana <span class="finnish-phrase speakable-finnish">${currentSurfaceSpatialWord.word}</span> ei kuvaa sitÃ¤ tunnetta. YritÃ¤ uudelleen!`;
            if (surfaceSpatialFeedbackEl) surfaceSpatialFeedbackEl.className = 'feedback-area incorrect';
        }
        if (surfaceSpatialFeedbackEl) {
            surfaceSpatialFeedbackEl.innerHTML = feedbackText;
            surfaceSpatialFeedbackEl.querySelectorAll('.speakable-finnish, .finnish-phrase').forEach(el => {
                 if (!el.querySelector('.tts-button')) addTTSButton(el, el.textContent);
            });
            const mainFeedbackSpan = surfaceSpatialFeedbackEl.querySelector('.speakable-finnish');
            if (mainFeedbackSpan) speakText(mainFeedbackSpan.textContent.split('.')[0].replace(/Sana.*?kuvaa juuri sitÃ¤ tunnetta/, '').replace(/Sana.*?ei kuvaa sitÃ¤ tunnetta\. YritÃ¤ uudelleen!/, '').trim() + '.');
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        if (window.speechSynthesis.getVoices().length === 0) {
            window.speechSynthesis.onvoiceschanged = initializeTTSForPage;
        } else {
            initializeTTSForPage();
        }
        setTimeout(initializeTTSForPage, 200); 
    });
</script>
</body>
</html>