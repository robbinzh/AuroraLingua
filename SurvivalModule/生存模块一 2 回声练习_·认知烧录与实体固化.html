<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—1.5ï¼šè®¤çŸ¥çƒ§å½•ä¸å®ä½“å›ºåŒ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* é¡µé¢å¤´éƒ¨ */
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        
        .header .description {
            font-size: 1rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* é˜¶æ¢¯é€‰æ‹©ç•Œé¢ */
        .stage-selector {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .stage-selector h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
            font-size: 1.8rem;
        }
        
        .stages-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .stage-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 3px solid #dee2e6;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .stage-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .stage-card.active {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }
        
        .stage-emoji {
            font-size: 4rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .stage-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .stage-subtitle {
            color: #6c757d;
            margin-bottom: 15px;
            font-size: 1rem;
        }
        
        .stage-description {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.4;
            color: #495057;
        }
        
        /* å¯¼èˆªæŒ‰é’® */
        .nav-container {
            text-align: center;
            margin-top: 30px;
        }
        
        .nav-button {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 25px;
            font-size: 1rem;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.3);
        }
        
        .nav-button.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* åœºæ™¯é€‰æ‹©å™¨æ ·å¼ */
        .scenes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
            max-height: 60vh;
            overflow-y: auto;
            padding: 5px;
        }
        
        .scene-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .scene-card:hover {
            transform: translateY(-3px);
            border-color: #667eea;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }
        
        .scene-card.selected {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }
        
        .scene-emoji {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .scene-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .scene-finnish {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 8px;
            font-style: italic;
        }
        
        .scene-count {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
        }
        
        /* å¿«é€Ÿå¼€å§‹æŒ‰é’® */
        .quick-start-container {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 15px 0;
            border-top: 1px solid #dee2e6;
            margin: 0 -40px -40px -40px;
            text-align: center;
        }
        
        .quick-start-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .quick-start-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        .quick-start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.2);
        }
        
        /* è®­ç»ƒç•Œé¢æ ·å¼ */
        .training-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            height: 90vh;
            display: flex;
            flex-direction: column;
        }
        
        .training-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f3f4;
            flex-shrink: 0;
        }
        
        .training-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .training-emoji {
            font-size: 2.5rem;
        }
        
        .training-title h3 {
            margin: 0;
            font-size: 1.4rem;
            color: #2c3e50;
        }
        
        .training-title p {
            margin: 5px 0 0 0;
            color: #6c757d;
            font-size: 1rem;
        }
        
        .training-progress {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
        }
        
        .exit-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .exit-btn:hover {
            background: #c82333;
            transform: scale(1.1);
        }
        
        /* éŸ³é¢‘æ’­æ”¾åŒº */
        .audio-section {
            text-align: center;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            flex-shrink: 0;
        }
        
        /* æ–°çš„åˆ†æ å¸ƒå±€æ ·å¼ */
        .top-section {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            height: 180px;
            flex-shrink: 0;
        }
        
        .audio-panel {
            flex: 1;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .feedback-panel {
            flex: 1;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            text-align: left;
            border: 2px solid #dee2e6;
        }
        
        .feedback-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .feedback-emoji {
            font-size: 1.5em;
            margin-bottom: 5px;
        }
        
        .feedback-text {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .feedback-word {
            font-size: 0.9em;
            color: #666;
        }
        
        .options-section {
            flex: 1;
            min-height: 0;
            display: flex;
            flex-direction: column;
        }
        
        .audio-word {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1565c0;
            margin-bottom: 15px;
        }
        
        .play-audio-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
        }
        
        .play-audio-btn:hover {
            background: linear-gradient(135deg, #0056b3, #004085);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4);
        }
        
        .audio-hint {
            color: #424242;
            font-size: 1rem;
            opacity: 0.8;
        }
        
        /* é€‰é¡¹ç½‘æ ¼ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            flex: 1;
            min-height: 0;
        }
        
        .option-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 3px solid #dee2e6;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 120px;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }
        
        .option-card.correct {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }
        
        .option-card.wrong {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        }
        
        .option-emoji {
            font-size: 2.5rem;
            margin-bottom: 8px;
        }
        
        .option-emoji img {
            width: 2.5rem;
            height: 2.5rem;
            object-fit: contain;
        }
        
        .option-text {
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        /* åé¦ˆåŒºåŸŸ */
        .feedback-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            margin-top: 15px;
            flex-shrink: 0;
        }
        
        .feedback-content {
            margin-bottom: 15px;
        }
        
        .feedback-emoji {
            font-size: 2.5rem;
            margin-bottom: 8px;
        }
        
        .feedback-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .feedback-word {
            font-size: 1rem;
            color: #6c757d;
            margin-bottom: 10px;
        }
        
        .next-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(40, 167, 69, 0.3);
            flex-shrink: 0;
        }
        
        .next-btn:hover {
            background: linear-gradient(135deg, #20c997, #17a2b8);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        }
        
        /* å¿ƒåƒç”Ÿæˆå™¨ä¸“ç”¨æ ·å¼ */
        .mind-card-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 0;
            padding: 20px 0;
        }
        
        .mind-card {
            width: 100%;
            max-width: 400px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .mind-card-front,
        .mind-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 3px solid #dee2e6;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.6s;
            backface-visibility: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .mind-card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
        }
        
        .mind-card.flipped .mind-card-front {
            transform: rotateY(-180deg);
        }
        
        .mind-card.flipped .mind-card-back {
            transform: rotateY(0deg);
        }
        
        .mind-instruction {
            text-align: center;
            padding: 20px;
        }
        
        .mind-emoji {
            font-size: 4rem;
            margin-bottom: 20px;
        }
        
        .mind-text {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .mind-hint {
            font-size: 1rem;
            color: #6c757d;
            font-style: italic;
        }
        
        .mind-play-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 15px 0;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
        }
        
        .mind-play-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4);
        }
        
        .mind-play-btn:active {
            transform: translateY(0);
        }
        
        .mind-flip-btn {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 20px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3);
        }
        
        .mind-flip-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(23, 162, 184, 0.4);
        }
        
        .mind-flip-btn:active {
            transform: translateY(0);
        }
        
        .mind-answer {
            text-align: center;
            padding: 20px;
        }
        
        .answer-emoji {
            font-size: 4rem;
            margin-bottom: 15px;
        }
        
        .answer-emoji img {
            width: 4rem;
            height: 4rem;
            object-fit: contain;
        }
        
        .answer-word {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1565c0;
            margin-bottom: 10px;
        }
        
        .answer-chinese {
            font-size: 1.3rem;
            color: #424242;
            font-weight: 500;
        }
        
        /* è¯„ä»·æŒ‰é’®åŒºåŸŸ */
        .evaluation-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            flex-shrink: 0;
        }
        
        .eval-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .eval-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        .eval-btn {
            border: none;
            border-radius: 25px;
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .eval-btn.correct {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .eval-btn.wrong {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }
        
        .eval-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }
        
        /* éšè—ç±» */
        .hidden {
            display: none !important;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header .subtitle {
                font-size: 1rem;
            }
            
            .stages-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .stage-card {
                padding: 25px;
            }
            
            .stage-emoji {
                font-size: 3rem;
            }
            
            .stage-title {
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6rem;
            }
            
            .stage-card {
                padding: 20px;
            }
            
            .nav-button {
                padding: 10px 20px;
                font-size: 0.9rem;
                margin: 5px;
            }
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .top-section {
                flex-direction: column;
                height: auto;
                gap: 15px;
            }
            
            .audio-panel, .feedback-panel {
                flex: none;
                min-height: 120px;
            }
            
            .feedback-panel {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .feedback-content {
                align-items: center;
                text-align: center;
            }
            
            .wrong-words-btn {
                font-size: 0.7em;
                padding: 4px 8px;
                margin-right: 5px;
            }
            
            .wrong-words-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
                padding: 15px;
            }
            
            .wrong-word-card {
                height: 100px;
            }
            
            .wrong-card-finnish {
                font-size: 1em;
            }
            
            .wrong-card-chinese {
                font-size: 0.9em;
            }
            
            .options-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .option-card {
                padding: 15px 10px;
            }
            
            .option-emoji {
                font-size: 2em;
            }
            
            .option-text {
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .top-section {
                gap: 10px;
            }
            
            .audio-panel, .feedback-panel {
                padding: 15px;
                min-height: 100px;
            }
            
            .audio-word, .feedback-text {
                font-size: 1.1em;
            }
            
            .options-grid {
                gap: 10px;
            }
            
            .play-audio-btn {
                padding: 8px 16px;
                font-size: 0.9em;
                margin-top: 10px;
            }
            
            .next-btn {
                padding: 6px 12px;
                font-size: 0.8em;
                margin-top: 8px;
            }
        }
        
        /* é”™é¢˜é›†æ ·å¼ */
        .wrong-words-btn {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 6px 12px;
            font-size: 0.8em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }
        
        .wrong-words-btn:hover {
            background: linear-gradient(135deg, #c82333, #bd2130);
            transform: translateY(-1px);
            box-shadow: 0 3px 12px rgba(220, 53, 69, 0.4);
        }
        
        .wrong-words-panel {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #dc3545;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.1);
        }
        
        .wrong-words-header {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            padding: 15px 20px;
            border-radius: 13px 13px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .wrong-words-header h4 {
            margin: 0;
            font-size: 1.1em;
        }
        
        .close-wrong-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 5px 10px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .close-wrong-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .wrong-words-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        
        .wrong-word-card {
            background: white;
            border-radius: 12px;
            border: 2px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 120px;
            position: relative;
            overflow: hidden;
            perspective: 1000px;
        }
        
        .wrong-word-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .wrong-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .wrong-word-card.flipped .wrong-card-inner {
            transform: rotateY(180deg);
        }
        
        .wrong-card-front, .wrong-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
        }
        
        .wrong-card-front {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }
        
        .wrong-card-back {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            transform: rotateY(180deg);
        }
        
        .wrong-card-finnish {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }
        
        .wrong-card-chinese {
            font-size: 1em;
            color: #666;
            margin-bottom: 10px;
        }
        
        .remove-wrong-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .remove-wrong-btn:hover {
            background: #c82333;
            transform: scale(1.1);
        }
        
        .wrong-words-empty {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .wrong-words-empty p {
            margin: 0;
            font-size: 1.1em;
        }
        
        /* å…¨å±€é”™é¢˜é›†æµ®åŠ¨æŒ‰é’® */
        .global-wrong-words-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 15px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }
        
        .global-wrong-words-btn:hover {
            background: linear-gradient(135deg, #c82333, #bd2130);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.4);
        }
        
        /* å…¨å±€é”™é¢˜é›†å¼¹çª— */
        .global-wrong-words-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80%;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 1.3em;
        }
        
        .close-modal-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .modal-body {
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .global-wrong-words-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
        }
        
        .global-wrong-words-empty {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .modal-footer {
            border-top: 1px solid #dee2e6;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        
        .clear-all-btn, .export-btn {
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }
        
        .clear-all-btn {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            color: white;
        }
        
        .clear-all-btn:hover {
            background: linear-gradient(135deg, #5a6268, #495057);
        }
        
        .export-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .export-btn:hover {
            background: linear-gradient(135deg, #20c997, #17a2b8);
        }
    </style>
</head>
<body>
    <!-- å…¨å±€é”™é¢˜é›†æµ®åŠ¨æŒ‰é’® -->
    <div class="global-wrong-words-btn" id="globalWrongWordsBtn" onclick="openGlobalWrongWords()">
        âŒ é”™é¢˜é›† (<span id="globalWrongWordsCount">0</span>)
    </div>
    
    <!-- å…¨å±€é”™é¢˜é›†å¼¹çª— -->
    <div class="global-wrong-words-modal hidden" id="globalWrongWordsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“š å…¨å±€é”™é¢˜é›†</h3>
                <button class="close-modal-btn" onclick="closeGlobalWrongWords()">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="global-wrong-words-grid" id="globalWrongWordsGrid">
                    <!-- é”™é¢˜å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="global-wrong-words-empty hidden" id="globalWrongWordsEmpty">
                    <p>ğŸ‰ æš‚æ— é”™é¢˜ï¼Œç»§ç»­åŠ æ²¹ï¼</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="clear-all-btn" onclick="clearAllWrongWords()">æ¸…ç©ºæ‰€æœ‰é”™é¢˜</button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <header class="header">
            <h1>ğŸ§  æ¨¡å—1.5ï¼šè®¤çŸ¥çƒ§å½•ä¸å®ä½“å›ºåŒ–</h1>
            <p class="subtitle">ä¸¤é˜¶æ¢¯æ¸è¿›å¼è¯æ±‡å·©å›ºè®­ç»ƒ</p>
            <p class="description">
                é€šè¿‡å›å£°å®šä½å™¨å’Œå¿ƒåƒç”Ÿæˆå™¨ä¸¤ä¸ªé˜¶æ¢¯ï¼Œä»æœ‰è„šæ‰‹æ¶çš„å¤šé€‰è¯†åˆ«è®­ç»ƒï¼Œ
                é€æ­¥è¿‡æ¸¡åˆ°æ— è¾…åŠ©çš„çº¯å¬è§‰å›å¿†ç»ƒä¹ ï¼Œå®ç°æ·±åº¦è¯æ±‡å†…åŒ–ã€‚
            </p>
        </header>

        <!-- é˜¶æ¢¯é€‰æ‹©ç•Œé¢ -->
        <div class="stage-selector" id="stageSelector">
            <h2>ğŸ¯ é€‰æ‹©æ‚¨çš„è®­ç»ƒé˜¶æ¢¯</h2>
            
            <div class="stages-grid">
                <!-- ç¬¬ä¸€é˜¶æ¢¯ -->
                <div class="stage-card" onclick="selectStage(1)">
                    <span class="stage-emoji">ğŸ¯</span>
                    <h3 class="stage-title">å›å£°å®šä½å™¨</h3>
                    <p class="stage-subtitle">Kaikuluotain</p>
                    <div class="stage-description">
                        å¬éŸ³è¯†åˆ«è®­ç»ƒï¼šåœ¨4ä¸ªé€‰é¡¹ä¸­æ‰¾åˆ°æ­£ç¡®çš„å›¾ç‰‡ã€‚è¿™æ˜¯æœ‰"è„šæ‰‹æ¶"çš„è¯†åˆ«ç»ƒä¹ ï¼Œå¸®æ‚¨å»ºç«‹å£°éŸ³ä¸å›¾åƒçš„å¿«é€Ÿæ˜ å°„ã€‚
                    </div>
                </div>
                
                <!-- ç¬¬äºŒé˜¶æ¢¯ -->
                <div class="stage-card" onclick="selectStage(2)">
                    <span class="stage-emoji">ğŸ”®</span>
                    <h3 class="stage-title">å¿ƒåƒç”Ÿæˆå™¨</h3>
                    <p class="stage-subtitle">Mielikuvageneraattori</p>
                    <div class="stage-description">
                        å¬éŸ³å›å¿†è®­ç»ƒï¼šçº¯å¬è§‰è¾“å…¥ï¼Œåœ¨è„‘æµ·ä¸­ä¸»åŠ¨ç”Ÿæˆå¯¹åº”å›¾åƒï¼Œç„¶åç¿»å¡éªŒè¯ã€‚è¿™æ˜¯æ— è¾…åŠ©çš„æ·±åº¦å›å¿†ç»ƒä¹ ã€‚
                    </div>
                </div>
            </div>
            
            <div class="nav-container">
                <button class="nav-button" onclick="exitModule()">â† è¿”å›æ¨¡å—ä¸€</button>
                <button class="nav-button primary" id="continueButton" onclick="showSceneSelector()" disabled>ç»§ç»­ â†’</button>
            </div>
        </div>

        <!-- åœºæ™¯é€‰æ‹©ç•Œé¢ -->
        <div class="stage-selector hidden" id="sceneSelector">
            <h2>ğŸ—‚ï¸ é€‰æ‹©è®­ç»ƒåœºæ™¯</h2>
            <p style="text-align: center; color: #6c757d; margin-bottom: 20px;">
                é€‰æ‹©æ‚¨æƒ³è¦ç»ƒä¹ çš„è¯æ±‡åœºæ™¯ï¼Œæ¯ä¸ªåœºæ™¯åŒ…å«ä¸åŒæ•°é‡çš„é«˜é¢‘è¯æ±‡
            </p>
            
            <div class="scenes-grid">
                <!-- åœºæ™¯å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- å¿«é€Ÿå¼€å§‹æŒ‰é’® -->
            <div class="quick-start-container">
                <button class="quick-start-btn" id="quickStartButton" onclick="startTraining()" disabled>
                    ğŸš€ å¼€å§‹è®­ç»ƒ
                </button>
                <p style="font-size: 0.8rem; color: #6c757d; margin: 8px 0 0 0;" id="selectedInfo">
                    è¯·å…ˆé€‰æ‹©ä¸€ä¸ªåœºæ™¯
                </p>
            </div>
            
            <div class="nav-container">
                <button class="nav-button" onclick="backToStageSelector()">â† è¿”å›é˜¶æ¢¯é€‰æ‹©</button>
            </div>
        </div>

        <!-- å›å£°å®šä½å™¨è®­ç»ƒç•Œé¢ -->
        <div class="training-container hidden" id="echoTraining">
            <div class="training-header">
                <div class="training-info">
                    <span class="training-emoji">ğŸ¯</span>
                    <div class="training-title">
                        <h3>å›å£°å®šä½å™¨</h3>
                        <p id="echoSceneTitle">åœºæ™¯åç§°</p>
                    </div>
                </div>
                <div class="training-progress">
                    <span id="echoProgress">0 / 0</span>
                    <button class="wrong-words-btn" onclick="toggleWrongWords()" id="wrongWordsBtn">
                        âŒ é”™é¢˜é›† (<span id="wrongWordsCount">0</span>)
                    </button>
                    <button class="exit-btn" onclick="exitTraining()">âœ•</button>
                </div>
            </div>

            <!-- é”™é¢˜é›†ç•Œé¢ -->
            <div class="wrong-words-panel hidden" id="wrongWordsPanel">
                <div class="wrong-words-header">
                    <h4>ğŸ“š é”™é¢˜é›†</h4>
                    <button class="close-wrong-btn" onclick="toggleWrongWords()">æ”¶èµ·</button>
                </div>
                <div class="wrong-words-grid" id="wrongWordsGrid">
                    <!-- é”™é¢˜å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="wrong-words-empty hidden" id="wrongWordsEmpty">
                    <p>ğŸ‰ æš‚æ— é”™é¢˜ï¼Œç»§ç»­åŠ æ²¹ï¼</p>
                </div>
            </div>

            <!-- ä¸ŠåŠéƒ¨åˆ†ï¼šå·¦å³åˆ†æ  -->
            <div class="top-section">
                <!-- å·¦ä¾§ï¼šéŸ³é¢‘æ’­æ”¾åŒº -->
                <div class="audio-panel">
                    <div class="audio-word" id="echoWord">ç‚¹å‡»æ’­æ”¾éŸ³é¢‘</div>
                    <button class="play-audio-btn" id="echoPlayBtn" onclick="playCurrentAudio()">
                        ğŸ”Š æ’­æ”¾
                    </button>
                    <div class="audio-hint">å¬éŸ³é¢‘ï¼Œåœ¨ä¸‹æ–¹4ä¸ªé€‰é¡¹ä¸­é€‰æ‹©å¯¹åº”å›¾ç‰‡</div>
                </div>

                <!-- å³ä¾§ï¼šåé¦ˆåŒºåŸŸ -->
                <div class="feedback-panel" id="echoFeedback">
                    <div class="feedback-content">
                        <div class="feedback-emoji" id="echoFeedbackEmoji">ğŸ¯</div>
                        <div class="feedback-text" id="echoFeedbackText">å‡†å¤‡å¼€å§‹</div>
                        <div class="feedback-word" id="echoFeedbackWord">å¬éŸ³é¢‘å¹¶é€‰æ‹©ç­”æ¡ˆ</div>
                    </div>
                    <button class="next-btn hidden" id="nextBtn" onclick="nextEchoQuestion()">ä¸‹ä¸€é¢˜ â†’</button>
                </div>
            </div>

            <!-- ä¸‹åŠéƒ¨åˆ†ï¼šé€‰é¡¹åŒºåŸŸ -->
            <div class="options-section">
                <div class="options-grid" id="echoOptions">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>

        <!-- å¿ƒåƒç”Ÿæˆå™¨è®­ç»ƒç•Œé¢ -->
        <div class="training-container hidden" id="mindTraining">
            <div class="training-header">
                <div class="training-info">
                    <span class="training-emoji">ğŸ”®</span>
                    <div class="training-title">
                        <h3>å¿ƒåƒç”Ÿæˆå™¨</h3>
                        <p id="mindSceneTitle">åœºæ™¯åç§°</p>
                    </div>
                </div>
                <div class="training-progress">
                    <span id="mindProgress">0 / 0</span>
                    <button class="exit-btn" onclick="exitTraining()">âœ•</button>
                </div>
            </div>

            <!-- éŸ³é¢‘æ’­æ”¾åŒº -->
            <div class="audio-section">
                <div class="audio-hint">å¬éŸ³é¢‘ï¼Œåœ¨è„‘æµ·ä¸­ç”Ÿæˆå¯¹åº”å›¾åƒï¼Œç„¶åç¿»å¡éªŒè¯</div>
            </div>

            <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
            <div style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                <!-- æ€è€ƒå¡ç‰‡åŒºåŸŸ -->
                <div class="mind-card-container" id="mindCardContainer">
                    <div class="mind-card" id="mindCard">
                        <div class="mind-card-front">
                            <div class="mind-instruction">
                                <div class="mind-emoji">â“</div>
                                <button class="mind-play-btn" onclick="playMindAudio(); event.stopPropagation();">
                                    ğŸ”Š æ’­æ”¾éŸ³é¢‘
                                </button>
                                <div class="mind-text">å¬éŸ³é¢‘ï¼Œåœ¨è„‘æµ·ä¸­æƒ³è±¡å¯¹åº”å›¾åƒ</div>
                                <div class="mind-hint">å‡†å¤‡å¥½åç‚¹å‡»å¡ç‰‡åŒºåŸŸç¿»å¡éªŒè¯</div>
                                <button class="mind-flip-btn" onclick="flipMindCard()">
                                    ğŸ”„ ç¿»å¡éªŒè¯
                                </button>
                            </div>
                        </div>
                        <div class="mind-card-back hidden">
                            <div class="mind-answer" id="mindAnswer">
                                <div class="answer-emoji" id="answerEmoji">ğŸ¯</div>
                                <div class="answer-word" id="answerWord">è¯æ±‡</div>
                                <div class="answer-chinese" id="answerChinese">ä¸­æ–‡</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è¯„ä»·æŒ‰é’®åŒºåŸŸ -->
                <div class="evaluation-section hidden" id="evaluationSection">
                    <div class="eval-title">æ‚¨æƒ³è±¡çš„æ˜¯å¦æ­£ç¡®ï¼Ÿ</div>
                    <div class="eval-buttons">
                        <button class="eval-btn correct" onclick="evaluateAnswer(true)">
                            âœ… æ­£ç¡®
                        </button>
                        <button class="eval-btn wrong" onclick="evaluateAnswer(false)">
                            âŒ é”™è¯¯
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentScene = 0;
        let isPlaying = false;
        let grammarHighlightEnabled = true;
        let chineseScaffoldVisible = false;
        
        // è®­ç»ƒç›¸å…³å˜é‡
        let selectedScene = '';
        let currentStage = 1; // 1: å›å£°å®šä½å™¨, 2: å¿ƒåƒç”Ÿæˆå™¨
        let currentWords = [];
        let totalQuestions = 0;
        let currentQuestion = 0;
        let correctAnswers = 0;
        let userAnswered = false;
        let currentAnswer = null;
        
        // é”™é¢˜é›†
        let wrongWords = new Set(); // ä½¿ç”¨Seté¿å…é‡å¤
        
        /**
         * åˆå§‹åŒ–é”™é¢˜é›†ï¼ˆä»localStorageåŠ è½½ï¼‰
         */
        function initWrongWords() {
            try {
                const savedWrongWords = localStorage.getItem('auroralingua_wrong_words');
                if (savedWrongWords) {
                    const wordsArray = JSON.parse(savedWrongWords);
                    wrongWords = new Set(wordsArray);
                }
            } catch (error) {
                console.warn('åŠ è½½é”™é¢˜é›†å¤±è´¥:', error);
                wrongWords = new Set();
            }
            updateWrongWordsCount();
        }
        
        /**
         * ä¿å­˜é”™é¢˜é›†åˆ°localStorage
         */
        function saveWrongWords() {
            try {
                const wordsArray = Array.from(wrongWords);
                localStorage.setItem('auroralingua_wrong_words', JSON.stringify(wordsArray));
            } catch (error) {
                console.warn('ä¿å­˜é”™é¢˜é›†å¤±è´¥:', error);
            }
        }
        
        // åœºæ™¯æ•°æ® - å¤ç”¨åœºæ™¯åŒ–é—ªå¡èˆ±çš„åˆ†ç±»
        const sceneData = {
            'perhe': { emoji: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', title: 'å®¶åº­äººç‰©', finnish: 'Minun Perheeni', count: 17 },
            'keho': { emoji: 'ğŸ§â€â™‚ï¸', title: 'èº«ä½“éƒ¨ä½', finnish: 'Minun Kehoni', count: 19 },
            'ruoka': { emoji: 'ğŸ½ï¸', title: 'é£Ÿç‰©é¥®æ–™', finnish: 'Ruoka ja Juoma', count: 33 },
            'koti': { emoji: 'ğŸ ', title: 'å®¶å±…ç‰©å“', finnish: 'Kotini ja Tavarat', count: 51 },
            'vaatteet': { emoji: 'ğŸ‘•', title: 'è¡£æœè£…å¤‡', finnish: 'Vaatteet', count: 18 },
            'luonto': { emoji: 'ğŸŒ²', title: 'è‡ªç„¶å¤©æ°”', finnish: 'Luonto ja SÃ¤Ã¤', count: 34 },
            'elaimet': { emoji: 'ğŸ¾', title: 'åŠ¨ç‰©ä¸–ç•Œ', finnish: 'ElÃ¤imet', count: 27 },
            'liikenne': { emoji: 'ğŸš—', title: 'äº¤é€šå·¥å…·', finnish: 'Liikenne', count: 13 },
            'paikat': { emoji: 'ğŸ›ï¸', title: 'åœ°ç‚¹æ¸¸æˆ', finnish: 'Paikat ja Leikit', count: 25 },
            'aika': { emoji: 'â°', title: 'æ—¶é—´æ•°å­—', finnish: 'Aika ja Numerot', count: 24 },
            'varit': { emoji: 'ğŸ¨', title: 'é¢œè‰²å½¢å®¹è¯', finnish: 'VÃ¤rit ja Adjektiivit', count: 31 },
            'verbit': { emoji: 'ğŸƒ', title: 'åŸºç¡€åŠ¨è¯', finnish: 'Perustoimintaverbit', count: 39 },
            'muut': { emoji: 'ğŸ’¬', title: 'å…¶ä»–å¸¸ç”¨è¯', finnish: 'Muut Yleissanat', count: 26 }
        };
        
        /**
         * é€‰æ‹©é˜¶æ¢¯
         */
        function selectStage(stage) {
            currentStage = stage;
            
            // æ›´æ–°UI
            document.querySelectorAll('.stage-card').forEach(card => card.classList.remove('active'));
            event.target.closest('.stage-card').classList.add('active');
            
            // å¯ç”¨ç»§ç»­æŒ‰é’®
            document.getElementById('continueButton').disabled = false;
        }
        
        /**
         * æ˜¾ç¤ºåœºæ™¯é€‰æ‹©å™¨
         */
        function showSceneSelector() {
            if (!currentStage) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªè®­ç»ƒé˜¶æ¢¯ï¼');
                return;
            }
            
            // éšè—é˜¶æ¢¯é€‰æ‹©ï¼Œæ˜¾ç¤ºåœºæ™¯é€‰æ‹©
            document.getElementById('stageSelector').classList.add('hidden');
            document.getElementById('sceneSelector').classList.remove('hidden');
            
            // ç”Ÿæˆåœºæ™¯å¡ç‰‡
            generateSceneCards();
        }
        
        /**
         * ç”Ÿæˆåœºæ™¯å¡ç‰‡
         */
        function generateSceneCards() {
            const scenesGrid = document.querySelector('.scenes-grid');
            scenesGrid.innerHTML = '';
            
            Object.entries(sceneData).forEach(([key, scene]) => {
                const sceneCard = document.createElement('div');
                sceneCard.className = 'scene-card';
                sceneCard.onclick = () => selectScene(key);
                
                sceneCard.innerHTML = `
                    <span class="scene-emoji">${scene.emoji}</span>
                    <h3 class="scene-title">${scene.title}</h3>
                    <p class="scene-finnish">${scene.finnish}</p>
                    <span class="scene-count">${scene.count} è¯æ±‡</span>
                `;
                
                scenesGrid.appendChild(sceneCard);
            });
        }
        
        /**
         * é€‰æ‹©åœºæ™¯
         */
        function selectScene(sceneKey) {
            selectedScene = sceneKey;
            
            // æ›´æ–°UI
            document.querySelectorAll('.scene-card').forEach(card => card.classList.remove('selected'));
            event.target.closest('.scene-card').classList.add('selected');
            
            // å¯ç”¨å¿«é€Ÿå¼€å§‹æŒ‰é’®
            const quickStartBtn = document.getElementById('quickStartButton');
            const selectedInfo = document.getElementById('selectedInfo');
            
            quickStartBtn.disabled = false;
            const stageName = currentStage === 1 ? 'å›å£°å®šä½å™¨' : 'å¿ƒåƒç”Ÿæˆå™¨';
            const sceneName = sceneData[selectedScene].title;
            selectedInfo.textContent = `${stageName} Ã— ${sceneName}`;
        }
        
        /**
         * è¿”å›é˜¶æ¢¯é€‰æ‹©
         */
        function backToStageSelector() {
            document.getElementById('sceneSelector').classList.add('hidden');
            document.getElementById('stageSelector').classList.remove('hidden');
            
            // æ¸…é™¤åœºæ™¯é€‰æ‹©
            selectedScene = '';
            document.getElementById('quickStartButton').disabled = true;
            document.getElementById('selectedInfo').textContent = 'è¯·å…ˆé€‰æ‹©ä¸€ä¸ªåœºæ™¯';
        }
        
        // å®Œæ•´è¯æ±‡æ•°æ® - å¤ç”¨åœºæ™¯åŒ–é—ªå¡èˆ±çš„è¯æ±‡åº“
        const vocabularyData = {
            'perhe': {
                emoji: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
                title: 'Minun Perheeni',
                words: [
                    { finnish: 'Ã¤iti', chinese: 'å¦ˆå¦ˆ', emoji: 'ğŸ‘©' },
                    { finnish: 'isÃ¤', chinese: 'çˆ¸çˆ¸', emoji: 'ğŸ‘¨' },
                    { finnish: 'vauva', chinese: 'å©´å„¿', emoji: 'ğŸ‘¶' },
                    { finnish: 'lapsi', chinese: 'å­©å­', emoji: 'ğŸ§’' },
                    { finnish: 'poika', chinese: 'ç”·å­©', emoji: 'ğŸ‘¦' },
                    { finnish: 'tyttÃ¶', chinese: 'å¥³å­©', emoji: 'ğŸ‘§' },
                    { finnish: 'veli', chinese: 'å…„å¼Ÿ', emoji: 'ğŸ‘¦' },
                    { finnish: 'sisko', chinese: 'å§å¦¹', emoji: 'ğŸ‘§' },
                    { finnish: 'ukki', chinese: '(å¤–)ç¥–çˆ¶', emoji: 'ğŸ‘´' },
                    { finnish: 'mummi', chinese: '(å¤–)ç¥–æ¯', emoji: 'ğŸ‘µ' },
                    { finnish: 'perhe', chinese: 'å®¶åº­', emoji: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦' },
                    { finnish: 'ystÃ¤vÃ¤', chinese: 'æœ‹å‹', emoji: 'ğŸ‘«' },
                    { finnish: 'nainen', chinese: 'å¥³äºº', emoji: 'ğŸ‘©' },
                    { finnish: 'mies', chinese: 'ç”·äºº', emoji: 'ğŸ‘¨' },
                    { finnish: 'tÃ¤ti', chinese: 'é˜¿å§¨/å§‘å§‘', emoji: 'ğŸ‘©' },
                    { finnish: 'setÃ¤', chinese: 'å”å”/ä¼¯ä¼¯', emoji: 'ğŸ‘¨' },
                    { finnish: 'naapuri', chinese: 'é‚»å±…', emoji: 'ğŸ ' }
                ]
            },
            'keho': {
                emoji: 'ğŸ§â€â™‚ï¸',
                title: 'Minun Kehoni',
                words: [
                    { finnish: 'pÃ¤Ã¤', chinese: 'å¤´', emoji: 'ğŸ™‚' },
                    { finnish: 'hiukset', chinese: 'å¤´å‘', emoji: 'ğŸ’‡â€â™€ï¸' },
                    { finnish: 'kasvot', chinese: 'è„¸', emoji: 'ğŸ˜Š' },
                    { finnish: 'silmÃ¤', chinese: 'çœ¼ç›', emoji: 'ğŸ‘ï¸' },
                    { finnish: 'korva', chinese: 'è€³æœµ', emoji: 'ğŸ‘‚' },
                    { finnish: 'nenÃ¤', chinese: 'é¼»å­', emoji: 'ğŸ‘ƒ' },
                    { finnish: 'suu', chinese: 'å˜´å·´', emoji: 'ğŸ‘„' },
                    { finnish: 'hammas', chinese: 'ç‰™é½¿', emoji: 'ğŸ¦·' },
                    { finnish: 'kieli', chinese: 'èˆŒå¤´', emoji: 'ğŸ‘…' },
                    { finnish: 'kaula', chinese: 'è„–å­', emoji: 'ğŸ§£' },
                    { finnish: 'olkapÃ¤Ã¤', chinese: 'è‚©è†€', emoji: '../assets/icons/shoulder.svg', isImage: true },
                    { finnish: 'selkÃ¤', chinese: 'èƒŒ', emoji: '../assets/icons/back.svg', isImage: true },
                    { finnish: 'vatsa', chinese: 'è‚šå­', emoji: 'ğŸ«ƒ' },
                    { finnish: 'kÃ¤si', chinese: 'æ‰‹/æ‰‹è‡‚', emoji: 'ğŸ¤š' },
                    { finnish: 'sormi', chinese: 'æ‰‹æŒ‡', emoji: 'â˜ï¸' },
                    { finnish: 'peukalo', chinese: 'æ‹‡æŒ‡', emoji: 'ğŸ‘' },
                    { finnish: 'jalka', chinese: 'è…¿/è„š', emoji: 'ğŸ¦µ' },
                    { finnish: 'polvi', chinese: 'è†ç›–', emoji: '../assets/icons/knee.svg', isImage: true },
                    { finnish: 'varvas', chinese: 'è„šè¶¾', emoji: '../assets/icons/toes.svg', isImage: true }
                ]
            },
            'ruoka': {
                emoji: 'ğŸ½ï¸',
                title: 'Ruoka ja Juoma',
                words: [
                    { finnish: 'ruoka', chinese: 'é£Ÿç‰©', emoji: 'ğŸ½ï¸' },
                    { finnish: 'juoma', chinese: 'é¥®æ–™', emoji: 'ğŸ¥¤' },
                    { finnish: 'vesi', chinese: 'æ°´', emoji: 'ğŸ’§' },
                    { finnish: 'maito', chinese: 'ç‰›å¥¶', emoji: 'ğŸ¥›' },
                    { finnish: 'mehu', chinese: 'æœæ±', emoji: 'ğŸ§ƒ' },
                    { finnish: 'leipÃ¤', chinese: 'é¢åŒ…', emoji: 'ğŸ' },
                    { finnish: 'juusto', chinese: 'å¥¶é…ª', emoji: 'ğŸ§€' },
                    { finnish: 'voi', chinese: 'é»„æ²¹', emoji: 'ğŸ§ˆ' },
                    { finnish: 'muna', chinese: 'é¸¡è›‹', emoji: 'ğŸ¥š' },
                    { finnish: 'liha', chinese: 'è‚‰', emoji: 'ğŸ¥©' },
                    { finnish: 'kana', chinese: 'é¸¡è‚‰', emoji: 'ğŸ—' },
                    { finnish: 'kala', chinese: 'é±¼è‚‰', emoji: 'ğŸŸ' },
                    { finnish: 'riisi', chinese: 'ç±³é¥­', emoji: 'ğŸš' },
                    { finnish: 'peruna', chinese: 'åœŸè±†', emoji: 'ğŸ¥”' },
                    { finnish: 'porkkana', chinese: 'èƒ¡èåœ', emoji: 'ğŸ¥•' },
                    { finnish: 'sipuli', chinese: 'æ´‹è‘±', emoji: 'ğŸ§…' },
                    { finnish: 'herne', chinese: 'è±Œè±†', emoji: 'ğŸŸ¢' },
                    { finnish: 'omena', chinese: 'è‹¹æœ', emoji: 'ğŸ' },
                    { finnish: 'banaani', chinese: 'é¦™è•‰', emoji: 'ğŸŒ' },
                                         { finnish: 'mansikka', chinese: 'è‰è“', emoji: 'ğŸ“' },
                    { finnish: 'mustikka', chinese: 'è“è“', emoji: 'ğŸ«' },
                    { finnish: 'appelsiini', chinese: 'æ©™å­', emoji: 'ğŸŠ' },
                    { finnish: 'viinirypÃ¤le', chinese: 'è‘¡è„', emoji: 'ğŸ‡' },
                    { finnish: 'puuro', chinese: 'ç²¥', emoji: 'ğŸ¥£' },
                    { finnish: 'keitto', chinese: 'æ±¤', emoji: 'ğŸ²' },
                    { finnish: 'salaatti', chinese: 'æ²™æ‹‰', emoji: 'ğŸ¥—' },
                    { finnish: 'kakku', chinese: 'è›‹ç³•', emoji: 'ğŸ‚' },
                    { finnish: 'karkki', chinese: 'ç³–æœ', emoji: 'ğŸ¬' },
                    { finnish: 'keksi', chinese: 'é¥¼å¹²', emoji: 'ğŸª' },
                    { finnish: 'jÃ¤Ã¤telÃ¶', chinese: 'å†°æ·‡æ·‹', emoji: 'ğŸ¦' },
                    { finnish: 'suklaa', chinese: 'å·§å…‹åŠ›', emoji: 'ğŸ«' },
                    { finnish: 'suola', chinese: 'ç›', emoji: 'ğŸ§‚' },
                    { finnish: 'sokeri', chinese: 'ç³–', emoji: 'ğŸ¯' }
                ]
            },
            'koti': {
                emoji: 'ğŸ ',
                title: 'Kotini ja Tavarat',
                words: [
                    { finnish: 'koti', chinese: 'å®¶', emoji: 'ğŸ ' },
                    { finnish: 'talo', chinese: 'æˆ¿å­', emoji: 'ğŸ˜ï¸' },
                    { finnish: 'huone', chinese: 'æˆ¿é—´', emoji: 'ğŸ ' },
                    { finnish: 'ovi', chinese: 'é—¨', emoji: 'ğŸšª' },
                    { finnish: 'ikkuna', chinese: 'çª—æˆ·', emoji: 'ğŸªŸ' },
                    { finnish: 'sÃ¤nky', chinese: 'åºŠ', emoji: 'ğŸ›ï¸' },
                    { finnish: 'pÃ¶ytÃ¤', chinese: 'æ¡Œå­', emoji: '../assets/icons/table.svg', isImage: true },
                    { finnish: 'tuoli', chinese: 'æ¤…å­', emoji: 'ğŸª‘' },
                    { finnish: 'sohva', chinese: 'æ²™å‘', emoji: 'ğŸ›‹ï¸' },
                    { finnish: 'lamppu', chinese: 'ç¯', emoji: 'ğŸ’¡' },
                    { finnish: 'kirja', chinese: 'ä¹¦', emoji: 'ğŸ“–' },
                    { finnish: 'kynÃ¤', chinese: 'ç¬”', emoji: 'âœï¸' },
                    { finnish: 'puhelin', chinese: 'ç”µè¯', emoji: 'ğŸ“' },
                    { finnish: 'televisio', chinese: 'ç”µè§†', emoji: 'ğŸ“º' },
                    { finnish: 'avain', chinese: 'é’¥åŒ™', emoji: 'ğŸ”‘' },
                    { finnish: 'tietokone', chinese: 'ç”µè„‘', emoji: 'ğŸ’»' },
                    { finnish: 'televisio', chinese: 'ç”µè§†', emoji: 'ğŸ“º' },
                    { finnish: 'kirja', chinese: 'ä¹¦', emoji: 'ğŸ“–' },
                    { finnish: 'kynÃ¤', chinese: 'ç¬”', emoji: 'âœï¸' },
                    { finnish: 'paperi', chinese: 'çº¸', emoji: 'ğŸ“„' },
                    { finnish: 'sakset', chinese: 'å‰ªåˆ€', emoji: 'âœ‚ï¸' },
                    { finnish: 'keittiÃ¶', chinese: 'å¨æˆ¿', emoji: 'ğŸ³' },
                    { finnish: 'olohuone', chinese: 'å®¢å…', emoji: 'ğŸ›‹ï¸' },
                    { finnish: 'makuuhuone', chinese: 'å§å®¤', emoji: 'ğŸ›ï¸' },
                    { finnish: 'kylpyhuone', chinese: 'æµ´å®¤', emoji: 'ğŸ›' },
                    { finnish: 'vessa', chinese: 'å•æ‰€', emoji: 'ğŸš½' },
                    { finnish: 'suihku', chinese: 'æ·‹æµ´', emoji: 'ğŸš¿' },
                    { finnish: 'hana', chinese: 'æ°´é¾™å¤´', emoji: 'ğŸš°' },
                    { finnish: 'saippua', chinese: 'è‚¥çš‚', emoji: 'ğŸ§¼' },
                    { finnish: 'pyyhe', chinese: 'æ¯›å·¾', emoji: 'ğŸŸ«' },
                    { finnish: 'harja', chinese: 'åˆ·å­', emoji: 'ğŸª¥' },
                    { finnish: 'roskakori', chinese: 'åƒåœ¾æ¡¶', emoji: 'ğŸ—‘ï¸' },
                    { finnish: 'muki', chinese: 'é©¬å…‹æ¯', emoji: 'â˜•' },
                    { finnish: 'lasi', chinese: 'ç»ç’ƒæ¯', emoji: 'ğŸ¥›' },
                    { finnish: 'lautanen', chinese: 'ç›˜å­', emoji: 'ğŸ½ï¸' },
                    { finnish: 'kulho', chinese: 'ç¢—', emoji: 'ğŸœ' },
                    { finnish: 'haarukka', chinese: 'å‰å­', emoji: 'ğŸ´' },
                    { finnish: 'veitsi', chinese: 'åˆ€', emoji: 'ğŸ”ª' },
                    { finnish: 'lusikka', chinese: 'å‹ºå­', emoji: 'ğŸ¥„' },
                    { finnish: 'hammasharja', chinese: 'ç‰™åˆ·', emoji: 'ğŸª¥' },
                    { finnish: 'hammastahna', chinese: 'ç‰™è†', emoji: '../assets/icons/toothpaste.svg', isImage: true },
                    { finnish: 'laukku', chinese: 'åŒ…', emoji: 'ğŸ‘œ' },
                    { finnish: 'reppu', chinese: 'èƒŒåŒ…', emoji: 'ğŸ’' },
                    { finnish: 'lompakko', chinese: 'é’±åŒ…', emoji: 'ğŸ‘›' },
                    { finnish: 'katto', chinese: 'å±‹é¡¶/å¤©èŠ±æ¿', emoji: 'ğŸ ' },
                    { finnish: 'lattia', chinese: 'åœ°æ¿', emoji: 'â¬›' },
                    { finnish: 'seinÃ¤', chinese: 'å¢™', emoji: 'ğŸ§±' },
                    { finnish: 'peitto', chinese: 'è¢«å­', emoji: 'ğŸ›Œ' },
                    { finnish: 'tyyny', chinese: 'æ•å¤´', emoji: 'ğŸ›Œ' },
                    { finnish: 'kaappi', chinese: 'æŸœå­', emoji: 'ğŸ—„ï¸' },
                    { finnish: 'hylly', chinese: 'æ¶å­', emoji: 'ğŸ“š' },
                    { finnish: 'laatikko', chinese: 'æŠ½å±‰/ç›’å­', emoji: 'ğŸ“¦' },
                    { finnish: 'valo', chinese: 'å…‰/ç¯', emoji: 'ğŸ’¡' },
                    { finnish: 'peili', chinese: 'é•œå­', emoji: 'ğŸª' },
                    { finnish: 'kello', chinese: 'é’Ÿ', emoji: 'ğŸ•' }
                ]
            },
            'vaatteet': {
                emoji: 'ğŸ‘•',
                title: 'Vaatteet',
                words: [
                    { finnish: 'vaatteet', chinese: 'è¡£æœ(æ€»ç§°)', emoji: 'ğŸ‘•' },
                    { finnish: 'paita', chinese: 'ä¸Šè¡£', emoji: 'ğŸ‘”' },
                    { finnish: 'housut', chinese: 'è£¤å­', emoji: 'ğŸ‘–' },
                    { finnish: 'mekko', chinese: 'è¿è¡£è£™', emoji: 'ğŸ‘—' },
                    { finnish: 'takki', chinese: 'å¤–å¥—', emoji: 'ğŸ§¥' },
                    { finnish: 'sukka', chinese: 'è¢œå­', emoji: 'ğŸ§¦' },
                    { finnish: 'kenkÃ¤', chinese: 'é‹å­', emoji: 'ğŸ‘Ÿ' },
                    { finnish: 'hattu', chinese: 'å¸½å­', emoji: 'ğŸ‘’' },
                    { finnish: 'kÃ¤sineet', chinese: 'æ‰‹å¥—', emoji: 'ğŸ§¤' },
                    { finnish: 'T-paita', chinese: 'Tæ¤', emoji: 'ğŸ‘•' },
                    { finnish: 'hame', chinese: 'åŠèº«è£™', emoji: 'ğŸ‘—' },
                    { finnish: 'villapaita', chinese: 'æ¯›è¡£', emoji: 'ğŸ§¥' },
                    { finnish: 'shortsit', chinese: 'çŸ­è£¤', emoji: 'ğŸ©³' },
                    { finnish: 'saappaat', chinese: 'é´å­', emoji: 'ğŸ‘¢' },
                    { finnish: 'tossut', chinese: 'æ‹–é‹', emoji: 'ğŸ©´' },
                    { finnish: 'pipo', chinese: '(æ— æª)ä¾¿å¸½', emoji: 'ğŸ§¢' },
                    { finnish: 'huivi', chinese: 'å›´å·¾', emoji: 'ğŸ§£' },
                    { finnish: 'pyjama', chinese: 'ç¡è¡£', emoji: 'ğŸ¥±' }
                ]
            },
            'luonto': {
                emoji: 'ğŸŒ²',
                title: 'Luonto ja SÃ¤Ã¤',
                words: [
                    { finnish: 'aurinko', chinese: 'å¤ªé˜³', emoji: 'â˜€ï¸' },
                    { finnish: 'kuu', chinese: 'æœˆäº®', emoji: 'ğŸŒ™' },
                    { finnish: 'tÃ¤hti', chinese: 'æ˜Ÿæ˜Ÿ', emoji: 'â­' },
                    { finnish: 'sade', chinese: 'é›¨', emoji: 'ğŸŒ§ï¸' },
                    { finnish: 'lumi', chinese: 'é›ª', emoji: 'â„ï¸' },
                    { finnish: 'tuuli', chinese: 'é£', emoji: 'ğŸ’¨' },
                    { finnish: 'puu', chinese: 'æ ‘', emoji: 'ğŸŒ³' },
                    { finnish: 'kukka', chinese: 'èŠ±', emoji: 'ğŸŒ¸' },
                    { finnish: 'lintu', chinese: 'é¸Ÿ', emoji: 'ğŸ¦' },
                    { finnish: 'meri', chinese: 'å¤§æµ·', emoji: 'ğŸŒŠ' },
                    { finnish: 'jÃ¤rvi', chinese: 'æ¹–', emoji: 'ğŸï¸' },
                    { finnish: 'joki', chinese: 'æ²³æµ', emoji: 'ğŸï¸' },
                    { finnish: 'saari', chinese: 'å²›å±¿', emoji: 'ğŸï¸' },
                    { finnish: 'vuori', chinese: 'å±±', emoji: 'â›°ï¸' },
                    { finnish: 'metsÃ¤', chinese: 'æ£®æ—', emoji: 'ğŸŒ²' },
                    { finnish: 'kukka', chinese: 'èŠ±', emoji: 'ğŸŒ¸' },
                    { finnish: 'ruoho', chinese: 'è‰', emoji: 'ğŸŒ±' },
                    { finnish: 'lehti', chinese: 'å¶å­', emoji: 'ğŸƒ' },
                    { finnish: 'jÃ¤Ã¤', chinese: 'å†°', emoji: 'ğŸ§Š' },
                    { finnish: 'tuli', chinese: 'ç«', emoji: 'ğŸ”¥' },
                    { finnish: 'sÃ¤Ã¤', chinese: 'å¤©æ°”', emoji: 'ğŸŒ¤ï¸' },
                    { finnish: 'aurinkoinen', chinese: 'æ™´æœ—çš„', emoji: 'â˜€ï¸' },
                    { finnish: 'pilvinen', chinese: 'å¤šäº‘çš„', emoji: 'â˜ï¸' },
                    { finnish: 'sateinen', chinese: 'ä¸‹é›¨çš„', emoji: 'ğŸŒ§ï¸' },
                    { finnish: 'luminen', chinese: 'ä¸‹é›ªçš„', emoji: 'â„ï¸' },
                    { finnish: 'tuulinen', chinese: 'æœ‰é£çš„', emoji: 'ğŸ’¨' },
                    { finnish: 'myrsky', chinese: 'æš´é£é›¨', emoji: 'â›ˆï¸' },
                    { finnish: 'ukkonen', chinese: 'é›·', emoji: 'âš¡' },
                    { finnish: 'salama', chinese: 'é—ªç”µ', emoji: 'âš¡' },
                    { finnish: 'luonto', chinese: 'è‡ªç„¶', emoji: 'ğŸŒ¿' },
                    { finnish: 'taivas', chinese: 'å¤©ç©º', emoji: 'â˜ï¸' },
                    { finnish: 'pilvi', chinese: 'äº‘', emoji: 'â˜ï¸' },
                    { finnish: 'ilma', chinese: 'ç©ºæ°”/å¤©æ°”', emoji: 'ğŸŒ¤ï¸' },
                    { finnish: 'maa', chinese: 'åœŸåœ°/å›½å®¶', emoji: 'ğŸŒ' },
                    { finnish: 'kivi', chinese: 'çŸ³å¤´', emoji: 'ğŸª¨' },
                    { finnish: 'hiekka', chinese: 'æ²™å­', emoji: 'ğŸ–ï¸' }
                ]
            },
            'elaimet': {
                emoji: 'ğŸ•',
                title: 'ElÃ¤imet',
                words: [
                    { finnish: 'elÃ¤in', chinese: 'åŠ¨ç‰©', emoji: 'ğŸ¾' },
                    { finnish: 'koira', chinese: 'ç‹—', emoji: 'ğŸ•' },
                    { finnish: 'kissa', chinese: 'çŒ«', emoji: 'ğŸ±' },
                    { finnish: 'lintu', chinese: 'é¸Ÿ', emoji: 'ğŸ¦' },
                    { finnish: 'kala', chinese: 'é±¼', emoji: 'ğŸŸ' },
                    { finnish: 'hevonen', chinese: 'é©¬', emoji: 'ğŸ´' },
                    { finnish: 'lehmÃ¤', chinese: 'å¥¶ç‰›', emoji: 'ğŸ„' },
                    { finnish: 'lammas', chinese: 'ç¾Š', emoji: 'ğŸ‘' },
                    { finnish: 'sika', chinese: 'çŒª', emoji: 'ğŸ·' },
                    { finnish: 'kana', chinese: 'é¸¡', emoji: 'ğŸ”' },
                    { finnish: 'ankka', chinese: 'é¸­å­', emoji: 'ğŸ¦†' },
                    { finnish: 'karhu', chinese: 'ç†Š', emoji: 'ğŸ»' },
                    { finnish: 'kettu', chinese: 'ç‹ç‹¸', emoji: 'ğŸ¦Š' },
                    { finnish: 'susi', chinese: 'ç‹¼', emoji: 'ğŸº' },
                    { finnish: 'jÃ¤nis', chinese: 'å…”å­', emoji: 'ğŸ°' },
                    { finnish: 'hiiri', chinese: 'è€é¼ ', emoji: 'ğŸ­' },
                    { finnish: 'orava', chinese: 'æ¾é¼ ', emoji: 'ğŸ¿ï¸' },
                    { finnish: 'siili', chinese: 'åˆºçŒ¬', emoji: 'ğŸ¦”' },
                    { finnish: 'apina', chinese: 'çŒ´å­', emoji: 'ğŸ’' },
                    { finnish: 'norsu', chinese: 'å¤§è±¡', emoji: 'ğŸ˜' },
                    { finnish: 'leijona', chinese: 'ç‹®å­', emoji: 'ğŸ¦' },
                    { finnish: 'tiikeri', chinese: 'è€è™', emoji: 'ğŸ…' },
                    { finnish: 'kirahvi', chinese: 'é•¿é¢ˆé¹¿', emoji: 'ğŸ¦’' },
                    { finnish: 'perhonen', chinese: 'è´è¶', emoji: 'ğŸ¦‹' },
                    { finnish: 'hÃ¤mÃ¤hÃ¤kki', chinese: 'èœ˜è››', emoji: 'ğŸ•·ï¸' },
                    { finnish: 'muurahainen', chinese: 'èš‚èš', emoji: 'ğŸœ' },
                    { finnish: 'sammakko', chinese: 'é’è›™', emoji: 'ğŸ¸' }
                ]
            },
            'liikenne': {
                emoji: 'ğŸš—',
                title: 'Liikenne',
                words: [
                    { finnish: 'auto', chinese: 'æ±½è½¦', emoji: 'ğŸš—' },
                    { finnish: 'bussi', chinese: 'å…¬å…±æ±½è½¦', emoji: 'ğŸšŒ' },
                    { finnish: 'juna', chinese: 'ç«è½¦', emoji: 'ğŸš‚' },
                    { finnish: 'laiva', chinese: 'èˆ¹', emoji: 'ğŸš¢' },
                    { finnish: 'vene', chinese: 'å°èˆ¹', emoji: 'â›µ' },
                    { finnish: 'lentokone', chinese: 'é£æœº', emoji: 'âœˆï¸' },
                    { finnish: 'polkupyÃ¶rÃ¤', chinese: 'è‡ªè¡Œè½¦', emoji: 'ğŸš²' },
                    { finnish: 'moottoripyÃ¶rÃ¤', chinese: 'æ‘©æ‰˜è½¦', emoji: 'ğŸï¸' },
                    { finnish: 'traktori', chinese: 'æ‹–æ‹‰æœº', emoji: 'ğŸšœ' },
                    { finnish: 'kuorma-auto', chinese: 'å¡è½¦', emoji: 'ğŸš›' },
                    { finnish: 'paloauto', chinese: 'æ¶ˆé˜²è½¦', emoji: 'ğŸš’' },
                    { finnish: 'ambulanssi', chinese: 'æ•‘æŠ¤è½¦', emoji: 'ğŸš‘' },
                    { finnish: 'taksi', chinese: 'å‡ºç§Ÿè½¦', emoji: 'ğŸš•' }
                ]
            },
            'paikat': {
                emoji: 'ğŸ«',
                title: 'Paikat ja Leikit',
                words: [
                    { finnish: 'paikka', chinese: 'åœ°æ–¹', emoji: 'ğŸ“' },
                    { finnish: 'kauppa', chinese: 'å•†åº—', emoji: 'ğŸª' },
                    { finnish: 'koulu', chinese: 'å­¦æ ¡', emoji: 'ğŸ«' },
                    { finnish: 'pÃ¤ivÃ¤koti', chinese: 'å¹¼å„¿å›­', emoji: 'ğŸ§’' },
                    { finnish: 'puisto', chinese: 'å…¬å›­', emoji: 'ğŸŒ³' },
                    { finnish: 'leikkipuisto', chinese: 'æ¸¸ä¹åœº', emoji: 'ğŸ ' },
                    { finnish: 'ranta', chinese: 'æµ·æ»©/å²¸è¾¹', emoji: 'ğŸ–ï¸' },
                    { finnish: 'sairaala', chinese: 'åŒ»é™¢', emoji: 'ğŸ¥' },
                    { finnish: 'kirjasto', chinese: 'å›¾ä¹¦é¦†', emoji: 'ğŸ“š' },
                    { finnish: 'katu', chinese: 'è¡—é“', emoji: 'ğŸ›£ï¸' },
                    { finnish: 'tie', chinese: 'è·¯', emoji: 'ğŸ›¤ï¸' },
                    { finnish: 'silta', chinese: 'æ¡¥', emoji: 'ğŸŒ‰' },
                    { finnish: 'asema', chinese: 'è½¦ç«™', emoji: 'ğŸš‰' },
                    { finnish: 'lentokenttÃ¤', chinese: 'æœºåœº', emoji: 'âœˆï¸' },
                    { finnish: 'lelu', chinese: 'ç©å…·', emoji: 'ğŸ§¸' },
                    { finnish: 'pallo', chinese: 'çƒ', emoji: 'âš½' },
                    { finnish: 'nukke', chinese: 'å¨ƒå¨ƒ', emoji: 'ğŸª†' },
                    { finnish: 'palikka', chinese: 'ç§¯æœ¨å—', emoji: 'ğŸ§±' },
                    { finnish: 'palapeli', chinese: 'æ‹¼å›¾', emoji: 'ğŸ§©' },
                    { finnish: 'peli', chinese: 'æ¸¸æˆ', emoji: 'ğŸ®' },
                    { finnish: 'piirustus', chinese: 'å›¾ç”»', emoji: 'ğŸ¨' },
                    { finnish: 'laulu', chinese: 'æ­Œæ›²', emoji: 'ğŸµ' },
                    { finnish: 'tanssi', chinese: 'èˆè¹ˆ', emoji: 'ğŸ’ƒ' },
                    { finnish: 'keinu', chinese: 'ç§‹åƒ', emoji: 'ğŸª€' },
                    { finnish: 'liukumÃ¤ki', chinese: 'æ»‘æ¢¯', emoji: 'ğŸ›' }
                ]
            },
            'aika': {
                emoji: 'â°',
                title: 'Aika ja Numerot',
                words: [
                    // æ—¶é—´ç›¸å…³
                    { finnish: 'aika', chinese: 'æ—¶é—´', emoji: 'â°' },
                    { finnish: 'pÃ¤ivÃ¤', chinese: 'å¤©/ç™½å¤©', emoji: 'â˜€ï¸' },
                    { finnish: 'yÃ¶', chinese: 'å¤œæ™š', emoji: 'ğŸŒ™' },
                    { finnish: 'aamu', chinese: 'æ—©ä¸Š', emoji: 'ğŸŒ…' },
                    { finnish: 'ilta', chinese: 'æ™šä¸Š', emoji: 'ğŸŒ†' },
                    { finnish: 'tunti', chinese: 'å°æ—¶', emoji: 'ğŸ•' },
                    { finnish: 'minuutti', chinese: 'åˆ†é’Ÿ', emoji: 'â±ï¸' },
                    { finnish: 'viikko', chinese: 'æ˜ŸæœŸ', emoji: 'ğŸ“…' },
                    { finnish: 'kuukausi', chinese: 'æœˆ', emoji: 'ğŸ“…' },
                    { finnish: 'vuosi', chinese: 'å¹´', emoji: 'ğŸ“…' },
                    { finnish: 'tÃ¤nÃ¤Ã¤n', chinese: 'ä»Šå¤©', emoji: 'ğŸ“…' },
                    { finnish: 'huomenna', chinese: 'æ˜å¤©', emoji: 'â¡ï¸' },
                    { finnish: 'eilen', chinese: 'æ˜¨å¤©', emoji: 'â¬…ï¸' },
                    // æ•°å­—
                    { finnish: 'numero', chinese: 'æ•°å­—', emoji: 'ğŸ”¢' },
                    { finnish: 'nolla', chinese: 'é›¶', emoji: '0ï¸âƒ£' },
                    { finnish: 'yksi', chinese: 'ä¸€', emoji: '1ï¸âƒ£' },
                    { finnish: 'kaksi', chinese: 'äºŒ', emoji: '2ï¸âƒ£' },
                    { finnish: 'kolme', chinese: 'ä¸‰', emoji: '3ï¸âƒ£' },
                    { finnish: 'neljÃ¤', chinese: 'å››', emoji: '4ï¸âƒ£' },
                    { finnish: 'viisi', chinese: 'äº”', emoji: '5ï¸âƒ£' },
                    { finnish: 'kuusi', chinese: 'å…­', emoji: '6ï¸âƒ£' },
                    { finnish: 'seitsemÃ¤n', chinese: 'ä¸ƒ', emoji: '7ï¸âƒ£' },
                    { finnish: 'kahdeksan', chinese: 'å…«', emoji: '8ï¸âƒ£' },
                    { finnish: 'yhdeksÃ¤n', chinese: 'ä¹', emoji: '9ï¸âƒ£' },
                    { finnish: 'kymmenen', chinese: 'å', emoji: 'ğŸ”Ÿ' }
                ]
            },
            'varit': {
                emoji: 'ğŸ¨',
                title: 'VÃ¤rit ja Adjektiivit',
                words: [
                    // é¢œè‰²
                    { finnish: 'vÃ¤ri', chinese: 'é¢œè‰²', emoji: 'ğŸ¨' },
                    { finnish: 'punainen', chinese: 'çº¢è‰²', emoji: 'ğŸ”´' },
                    { finnish: 'sininen', chinese: 'è“è‰²', emoji: 'ğŸ”µ' },
                    { finnish: 'keltainen', chinese: 'é»„è‰²', emoji: 'ğŸŸ¡' },
                    { finnish: 'vihreÃ¤', chinese: 'ç»¿è‰²', emoji: 'ğŸŸ¢' },
                    { finnish: 'valkoinen', chinese: 'ç™½è‰²', emoji: 'âšª' },
                    { finnish: 'musta', chinese: 'é»‘è‰²', emoji: 'âš«' },
                    { finnish: 'harmaa', chinese: 'ç°è‰²', emoji: 'ğŸ©¶' },
                    { finnish: 'ruskea', chinese: 'æ£•è‰²', emoji: 'ğŸŸ¤' },
                    { finnish: 'oranssi', chinese: 'æ©™è‰²', emoji: 'ğŸŸ ' },
                    { finnish: 'violetti', chinese: 'ç´«è‰²', emoji: 'ğŸŸ£' },
                    // å½¢å®¹è¯
                    { finnish: 'iso', chinese: 'å¤§çš„', emoji: 'ğŸ”º' },
                    { finnish: 'pieni', chinese: 'å°çš„', emoji: 'ğŸ”»' },
                    { finnish: 'pitkÃ¤', chinese: 'é•¿çš„', emoji: 'ğŸ“' },
                    { finnish: 'lyhyt', chinese: 'çŸ­çš„', emoji: 'ğŸ“' },
                    { finnish: 'uusi', chinese: 'æ–°çš„', emoji: 'âœ¨' },
                    { finnish: 'vanha', chinese: 'æ—§çš„/è€çš„', emoji: 'ğŸ“œ' },
                    { finnish: 'hyvÃ¤', chinese: 'å¥½çš„', emoji: 'ğŸ‘' },
                    { finnish: 'paha', chinese: 'åçš„', emoji: 'ğŸ‘' },
                    { finnish: 'kaunis', chinese: 'æ¼‚äº®çš„', emoji: 'ğŸ˜' },
                    { finnish: 'ruma', chinese: 'ä¸‘çš„', emoji: 'ğŸ˜¤' },
                    { finnish: 'iloinen', chinese: 'é«˜å…´çš„', emoji: 'ğŸ˜Š' },
                    { finnish: 'surullinen', chinese: 'ä¼¤å¿ƒçš„', emoji: 'ğŸ˜¢' },
                    { finnish: 'vÃ¤synyt', chinese: 'ç´¯çš„', emoji: 'ğŸ˜´' },
                    { finnish: 'sairas', chinese: 'ç”Ÿç—…çš„', emoji: 'ğŸ¤’' },
                    { finnish: 'terve', chinese: 'å¥åº·çš„', emoji: 'ğŸ’ª' },
                    { finnish: 'kuuma', chinese: 'çƒ­çš„', emoji: 'ğŸ”¥' },
                    { finnish: 'kylmÃ¤', chinese: 'å†·çš„', emoji: 'ğŸ§Š' },
                    { finnish: 'mÃ¤rkÃ¤', chinese: 'æ¹¿çš„', emoji: 'ğŸ’§' },
                    { finnish: 'kuiva', chinese: 'å¹²çš„', emoji: 'ğŸœï¸' },
                    { finnish: 'nopea', chinese: 'å¿«çš„', emoji: 'ğŸ’¨' },
                    { finnish: 'hidas', chinese: 'æ…¢çš„', emoji: 'ğŸŒ' }
                ]
            },
            'verbit': {
                emoji: 'ğŸƒ',
                title: 'Perustoimintaverbit',
                words: [
                    // æ ¸å¿ƒåŠ¨è¯
                    { finnish: 'olla', chinese: 'æ˜¯/æœ‰', emoji: 'âœ¨' },
                    { finnish: 'mennÃ¤', chinese: 'å»', emoji: 'â¡ï¸' },
                    { finnish: 'tulla', chinese: 'æ¥', emoji: 'â¬…ï¸' },
                    { finnish: 'tehdÃ¤', chinese: 'åš', emoji: 'âš’ï¸' },
                    { finnish: 'saada', chinese: 'å¾—åˆ°', emoji: 'ğŸ“¨' },
                    { finnish: 'antaa', chinese: 'ç»™', emoji: 'ğŸ' },
                    { finnish: 'ottaa', chinese: 'æ‹¿/å–', emoji: 'ğŸ¤' },
                    { finnish: 'laittaa', chinese: 'æ”¾', emoji: 'ğŸ“¥' },
                    // ç”Ÿæ´»åŠ¨è¯
                    { finnish: 'syÃ¶dÃ¤', chinese: 'åƒ', emoji: 'ğŸ½ï¸' },
                    { finnish: 'juoda', chinese: 'å–', emoji: 'ğŸ¥¤' },
                    { finnish: 'nukkua', chinese: 'ç¡è§‰', emoji: 'ğŸ˜´' },
                    { finnish: 'herÃ¤tÃ¤', chinese: 'é†’æ¥', emoji: 'â°' },
                    { finnish: 'avata', chinese: 'æ‰“å¼€', emoji: 'ğŸ”“' },
                    { finnish: 'sulkea', chinese: 'å…³é—­', emoji: 'ğŸ”’' },
                    { finnish: 'pestÃ¤', chinese: 'æ´—', emoji: 'ğŸ§½' },
                    { finnish: 'siivota', chinese: 'æ‰“æ‰«', emoji: 'ğŸ§¹' },
                    // æ„ŸçŸ¥åŠ¨è¯
                    { finnish: 'katsoa', chinese: 'çœ‹', emoji: 'ğŸ‘€' },
                    { finnish: 'nÃ¤hdÃ¤', chinese: 'çœ‹è§', emoji: 'ğŸ‘ï¸' },
                    { finnish: 'kuunnella', chinese: 'å¬', emoji: 'ğŸ‘‚' },
                    { finnish: 'kuulla', chinese: 'å¬è§', emoji: 'ğŸ‘‚' },
                    { finnish: 'puhua', chinese: 'è¯´', emoji: 'ğŸ’¬' },
                    { finnish: 'sanoa', chinese: 'è¯´å‡º', emoji: 'ğŸ—£ï¸' },
                    // æƒ…æ„ŸåŠ¨è¯
                    { finnish: 'rakastaa', chinese: 'çˆ±', emoji: 'â¤ï¸' },
                    { finnish: 'tykÃ¤tÃ¤', chinese: 'å–œæ¬¢', emoji: 'ğŸ˜Š' },
                    { finnish: 'haluta', chinese: 'æƒ³è¦', emoji: 'ğŸ™' },
                    { finnish: 'itkeÃ¤', chinese: 'å“­', emoji: 'ğŸ˜­' },
                    { finnish: 'nauraa', chinese: 'ç¬‘', emoji: 'ğŸ˜‚' },
                    { finnish: 'hymyillÃ¤', chinese: 'å¾®ç¬‘', emoji: 'ğŸ˜Š' },
                    // æ´»åŠ¨åŠ¨è¯
                    { finnish: 'leikkiÃ¤', chinese: 'ç©è€', emoji: 'ğŸ®' },
                    { finnish: 'pelata', chinese: 'ç©(æ¸¸æˆ/çƒç±»)', emoji: 'âš½' },
                    { finnish: 'laulaa', chinese: 'å”±æ­Œ', emoji: 'ğŸµ' },
                    { finnish: 'tanssia', chinese: 'è·³èˆ', emoji: 'ğŸ’ƒ' },
                    { finnish: 'piirtÃ¤Ã¤', chinese: 'ç”»ç”»', emoji: 'ğŸ¨' },
                    { finnish: 'lukea', chinese: 'é˜…è¯»', emoji: 'ğŸ“–' },
                    { finnish: 'kirjoittaa', chinese: 'å†™å­—', emoji: 'âœï¸' },
                    { finnish: 'oppia', chinese: 'å­¦ä¹ ', emoji: 'ğŸ“š' },
                    // è¿åŠ¨åŠ¨è¯
                    { finnish: 'juosta', chinese: 'è·‘', emoji: 'ğŸƒ' },
                    { finnish: 'kÃ¤vellÃ¤', chinese: 'èµ°/æ•£æ­¥', emoji: 'ğŸš¶' },
                    { finnish: 'hyppiÃ¤', chinese: 'è·³', emoji: 'ğŸ¦˜' },
                    { finnish: 'istua', chinese: 'å', emoji: 'ğŸª‘' },
                    { finnish: 'seisoa', chinese: 'ç«™', emoji: 'ğŸ§' },
                    // è®¤çŸ¥åŠ¨è¯
                    { finnish: 'tietÃ¤Ã¤', chinese: 'çŸ¥é“', emoji: 'ğŸ’¡' },
                    { finnish: 'osata', chinese: 'ä¼š/èƒ½å¤Ÿ', emoji: 'ğŸ‘Œ' },
                    { finnish: 'lÃ¶ytÃ¤Ã¤', chinese: 'æ‰¾åˆ°', emoji: 'ğŸ”' },
                    { finnish: 'auttaa', chinese: 'å¸®åŠ©', emoji: 'ğŸ¤' }
                ]
            },
            'muut': {
                emoji: 'ğŸ’¬',
                title: 'Muut Yleissanat',
                words: [
                    // åŸºæœ¬åº”ç­”
                    { finnish: 'kyllÃ¤', chinese: 'æ˜¯çš„', emoji: 'âœ…' },
                    { finnish: 'ei', chinese: 'ä¸/ä¸æ˜¯', emoji: 'âŒ' },
                    { finnish: 'ehkÃ¤', chinese: 'ä¹Ÿè®¸', emoji: 'ğŸ¤”' },
                    // ç¤¼è²Œç”¨è¯­
                    { finnish: 'kiitos', chinese: 'è°¢è°¢', emoji: 'ğŸ™' },
                    { finnish: 'anteeksi', chinese: 'å¯¹ä¸èµ·', emoji: 'ğŸ™‡' },
                    { finnish: 'hei', chinese: 'ä½ å¥½/å—¨', emoji: 'ğŸ‘‹' },
                    { finnish: 'hei hei', chinese: 'å†è§', emoji: 'ğŸ‘‹' },
                    { finnish: 'ole hyvÃ¤', chinese: 'è¯·/ä¸å®¢æ°”', emoji: 'ğŸ¤²' },
                    // è¿è¯
                    { finnish: 'ja', chinese: 'å’Œ', emoji: 'â•' },
                    { finnish: 'tai', chinese: 'æˆ–è€…', emoji: 'â“' },
                    { finnish: 'mutta', chinese: 'ä½†æ˜¯', emoji: 'â†”ï¸' },
                    { finnish: 'koska', chinese: 'å› ä¸º', emoji: 'ğŸ’­' },
                    { finnish: 'jos', chinese: 'å¦‚æœ', emoji: 'ğŸ¤¨' },
                    // ç–‘é—®è¯
                    { finnish: 'kuka', chinese: 'è°', emoji: 'ğŸ‘¤' },
                    { finnish: 'mitÃ¤', chinese: 'ä»€ä¹ˆ', emoji: 'â“' },
                    { finnish: 'missÃ¤', chinese: 'åœ¨å“ªé‡Œ', emoji: 'ğŸ“' },
                    { finnish: 'milloin', chinese: 'ä»€ä¹ˆæ—¶å€™', emoji: 'â°' },
                    { finnish: 'miksi', chinese: 'ä¸ºä»€ä¹ˆ', emoji: 'â“' },
                    { finnish: 'miten', chinese: 'æ€ä¹ˆæ ·', emoji: 'â“' },
                    { finnish: 'kuinka', chinese: 'å¤šå°‘/å¦‚ä½•', emoji: 'â“' },
                    // å‰¯è¯
                    { finnish: 'hyvin', chinese: 'å¾ˆå¥½/å¾ˆ', emoji: 'ğŸ‘Œ' },
                    { finnish: 'paljon', chinese: 'å¾ˆå¤š', emoji: 'ğŸ“š' },
                    { finnish: 'vÃ¤hÃ¤n', chinese: 'ä¸€ç‚¹', emoji: 'ğŸ¤' },
                    { finnish: 'tÃ¤Ã¤llÃ¤', chinese: 'è¿™é‡Œ', emoji: 'ğŸ“' },
                    { finnish: 'siellÃ¤', chinese: 'é‚£é‡Œ', emoji: 'ğŸ‘‰' },
                    { finnish: 'tuolla', chinese: 'åœ¨é‚£è¾¹', emoji: 'ğŸ‘†' },
                    { finnish: 'nyt', chinese: 'ç°åœ¨', emoji: 'â°' },
                    { finnish: 'myÃ¶s', chinese: 'ä¹Ÿ', emoji: 'â•' },
                    { finnish: 'vain', chinese: 'åª/ä»…ä»…', emoji: 'â˜ï¸' }
                ]
            }
        };
        
        /**
         * å¼€å§‹è®­ç»ƒ
         */
        function startTraining() {
            if (!currentStage || !selectedScene) {
                alert('è¯·å…ˆé€‰æ‹©é˜¶æ¢¯å’Œåœºæ™¯ï¼');
                return;
            }
            
            // åˆå§‹åŒ–è®­ç»ƒæ•°æ®
            initializeTraining();
            
            if (currentStage === 1) {
                startEchoTraining();
            } else {
                startMindTraining();
            }
        }
        
        /**
         * åˆå§‹åŒ–è®­ç»ƒæ•°æ®
         */
        function initializeTraining() {
            if (!vocabularyData[selectedScene]) {
                alert('åœºæ™¯æ•°æ®æœªæ‰¾åˆ°ï¼');
                return;
            }
            
            currentWords = [...vocabularyData[selectedScene].words];
            totalQuestions = currentWords.length;
            currentQuestion = 0;
            correctAnswers = 0;
            userAnswered = false;
            
            // æ‰“ä¹±è¯æ±‡é¡ºåº
            shuffleArray(currentWords);
        }
        
        /**
         * å¼€å§‹å›å£°å®šä½å™¨è®­ç»ƒ
         */
        function startEchoTraining() {
            // éšè—åœºæ™¯é€‰æ‹©å™¨ï¼Œæ˜¾ç¤ºè®­ç»ƒç•Œé¢
            document.getElementById('sceneSelector').classList.add('hidden');
            document.getElementById('echoTraining').classList.remove('hidden');
            
            // è®¾ç½®ç•Œé¢æ ‡é¢˜
            const sceneTitle = sceneData[selectedScene].title;
            document.getElementById('echoSceneTitle').textContent = sceneTitle;
            
            // å¼€å§‹ç¬¬ä¸€ä¸ªé—®é¢˜
            showEchoQuestion();
        }
        
        /**
         * æ˜¾ç¤ºå›å£°å®šä½å™¨é—®é¢˜
         */
        function showEchoQuestion() {
            if (currentQuestion >= totalQuestions) {
                showTrainingComplete();
                return;
            }
            
            userAnswered = false;
            currentAnswer = currentWords[currentQuestion];
            
            // æ›´æ–°è¿›åº¦
            document.getElementById('echoProgress').textContent = `${currentQuestion + 1} / ${totalQuestions}`;
            
            // æ˜¾ç¤ºèŠ¬å…°è¯­è¯æ±‡ï¼ˆä½†ä¸æ˜¾ç¤ºç­”æ¡ˆï¼‰
            document.getElementById('echoWord').textContent = 'ç‚¹å‡»æ’­æ”¾éŸ³é¢‘';
            
            // é‡ç½®åé¦ˆåŒºåŸŸåˆ°åˆå§‹çŠ¶æ€
            const feedbackEmoji = document.getElementById('echoFeedbackEmoji');
            const feedbackText = document.getElementById('echoFeedbackText');
            const feedbackWord = document.getElementById('echoFeedbackWord');
            const nextBtn = document.getElementById('nextBtn');
            
            feedbackEmoji.textContent = 'ğŸ¯';
            feedbackText.textContent = 'å‡†å¤‡å¼€å§‹';
            feedbackText.style.color = '#333';
            feedbackWord.textContent = 'å¬éŸ³é¢‘å¹¶é€‰æ‹©ç­”æ¡ˆ';
            nextBtn.classList.add('hidden');
            
            // ç”Ÿæˆ4ä¸ªé€‰é¡¹
            generateEchoOptions();
            
            // è‡ªåŠ¨æ’­æ”¾ç¬¬ä¸€æ¬¡éŸ³é¢‘
            setTimeout(() => {
                playCurrentAudio();
            }, 500);
        }
        
        /**
         * ç”Ÿæˆå›å£°å®šä½å™¨é€‰é¡¹
         */
        function generateEchoOptions() {
            const optionsContainer = document.getElementById('echoOptions');
            optionsContainer.innerHTML = '';
            
            // è·å–æ­£ç¡®ç­”æ¡ˆå’Œ3ä¸ªéšæœºé”™è¯¯é€‰é¡¹
            const options = getRandomOptions(currentAnswer, selectedScene);
            
            options.forEach((option, index) => {
                const optionCard = document.createElement('div');
                optionCard.className = 'option-card';
                optionCard.onclick = () => selectEchoOption(option, optionCard);
                
                // å¤„ç†å›¾ç‰‡æˆ–emoji
                let emojiContent;
                if (option.isImage) {
                    emojiContent = `<img src="${option.emoji}" alt="${option.chinese}">`;
                } else {
                    emojiContent = option.emoji;
                }
                
                optionCard.innerHTML = `
                    <div class="option-emoji">${emojiContent}</div>
                    <div class="option-text">${option.chinese}</div>
                `;
                
                optionsContainer.appendChild(optionCard);
            });
        }
        
        /**
         * è·å–éšæœºé€‰é¡¹ï¼ˆ1ä¸ªæ­£ç¡®ç­”æ¡ˆ + 3ä¸ªé”™è¯¯é€‰é¡¹ï¼‰
         */
        function getRandomOptions(correctAnswer, sceneKey) {
            const allWords = vocabularyData[sceneKey].words;
            const wrongOptions = allWords.filter(word => word.finnish !== correctAnswer.finnish);
            
            // éšæœºé€‰æ‹©3ä¸ªé”™è¯¯é€‰é¡¹
            const selectedWrong = [];
            while (selectedWrong.length < 3 && selectedWrong.length < wrongOptions.length) {
                const randomIndex = Math.floor(Math.random() * wrongOptions.length);
                const candidate = wrongOptions[randomIndex];
                if (!selectedWrong.includes(candidate)) {
                    selectedWrong.push(candidate);
                }
            }
            
            // ç»„åˆæ­£ç¡®ç­”æ¡ˆå’Œé”™è¯¯é€‰é¡¹ï¼Œç„¶åæ‰“ä¹±
            const options = [correctAnswer, ...selectedWrong];
            shuffleArray(options);
            
            return options;
        }
        
        /**
         * é€‰æ‹©å›å£°å®šä½å™¨é€‰é¡¹
         */
        function selectEchoOption(selectedOption, optionElement) {
            if (userAnswered) return;
            
            userAnswered = true;
            const isCorrect = selectedOption.finnish === currentAnswer.finnish;
            
            // æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹çš„ç»“æœ
            const allOptions = document.querySelectorAll('.option-card');
            allOptions.forEach(card => {
                const optionText = card.querySelector('.option-text').textContent;
                if (optionText === currentAnswer.chinese) {
                    card.classList.add('correct');
                } else {
                    card.classList.add('wrong');
                }
                card.style.pointerEvents = 'none';
            });
            
            // æ›´æ–°ç»Ÿè®¡
            if (isCorrect) {
                correctAnswers++;
            } else {
                // ç­”é”™æ—¶æ·»åŠ åˆ°é”™é¢˜é›†
                addToWrongWords(currentAnswer);
            }
            
            // æ˜¾ç¤ºåé¦ˆ
            setTimeout(() => {
                showEchoFeedback(isCorrect);
            }, 800);
        }
        
        /**
         * æ˜¾ç¤ºå›å£°å®šä½å™¨åé¦ˆ
         */
        function showEchoFeedback(isCorrect) {
            // åé¦ˆåŒºåŸŸåœ¨æ–°å¸ƒå±€ä¸­é»˜è®¤å¯è§ï¼Œä¸éœ€è¦ç§»é™¤hiddenç±»
            
            const feedbackEmoji = document.getElementById('echoFeedbackEmoji');
            const feedbackText = document.getElementById('echoFeedbackText');
            const feedbackWord = document.getElementById('echoFeedbackWord');
            const nextBtn = document.getElementById('nextBtn');
            
            if (isCorrect) {
                feedbackEmoji.textContent = 'âœ…';
                feedbackText.textContent = 'æ­£ç¡®ï¼';
                feedbackText.style.color = '#28a745';
            } else {
                feedbackEmoji.textContent = 'âŒ';
                feedbackText.textContent = 'é”™è¯¯';
                feedbackText.style.color = '#dc3545';
            }
            
            feedbackWord.textContent = `${currentAnswer.finnish} - ${currentAnswer.chinese}`;
            
            // æ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtn.classList.remove('hidden');
        }
        
        /**
         * ä¸‹ä¸€ä¸ªå›å£°å®šä½å™¨é—®é¢˜
         */
        function nextEchoQuestion() {
            currentQuestion++;
            showEchoQuestion();
        }
        
        /**
         * æ’­æ”¾å½“å‰éŸ³é¢‘
         */
        function playCurrentAudio() {
            if (!currentAnswer) return;
            
            // æ˜¾ç¤ºæ­£åœ¨æ’­æ”¾çš„è¯æ±‡
            document.getElementById('echoWord').textContent = currentAnswer.finnish;
            
            // ä½¿ç”¨SpeechSynthesis APIæ’­æ”¾èŠ¬å…°è¯­
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(currentAnswer.finnish);
                utterance.lang = 'fi-FI';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }
        
        /**
         * å¼€å§‹å¿ƒåƒç”Ÿæˆå™¨è®­ç»ƒ
         */
        function startMindTraining() {
            // éšè—åœºæ™¯é€‰æ‹©å™¨ï¼Œæ˜¾ç¤ºè®­ç»ƒç•Œé¢
            document.getElementById('sceneSelector').classList.add('hidden');
            document.getElementById('mindTraining').classList.remove('hidden');
            
            // è®¾ç½®ç•Œé¢æ ‡é¢˜
            const sceneTitle = sceneData[selectedScene].title;
            document.getElementById('mindSceneTitle').textContent = sceneTitle;
            
            // å¼€å§‹ç¬¬ä¸€ä¸ªé—®é¢˜
            showMindQuestion();
        }
        
        /**
         * æ˜¾ç¤ºå¿ƒåƒç”Ÿæˆå™¨é—®é¢˜
         */
        function showMindQuestion() {
            if (currentQuestion >= totalQuestions) {
                showTrainingComplete();
                return;
            }
            
            userAnswered = false;
            currentAnswer = currentWords[currentQuestion];
            
            // æ›´æ–°è¿›åº¦
            document.getElementById('mindProgress').textContent = `${currentQuestion + 1} / ${totalQuestions}`;
            
            // é‡ç½®ç•Œé¢çŠ¶æ€
            document.getElementById('mindCard').classList.remove('flipped');
            document.getElementById('mindCard').querySelector('.mind-card-back').classList.add('hidden');
            document.getElementById('evaluationSection').classList.add('hidden');
            
            // è®¾ç½®ç­”æ¡ˆæ•°æ®
            updateMindAnswer();
            
            // è‡ªåŠ¨æ’­æ”¾ç¬¬ä¸€æ¬¡éŸ³é¢‘ï¼ˆå»¶è¿Ÿç¡®ä¿ç•Œé¢å·²æ¸²æŸ“ï¼‰
            setTimeout(() => {
                playMindAudio();
            }, 800);
        }
        
        /**
         * æ›´æ–°å¿ƒåƒç”Ÿæˆå™¨ç­”æ¡ˆ
         */
        function updateMindAnswer() {
            const answerEmoji = document.getElementById('answerEmoji');
            const answerWord = document.getElementById('answerWord');
            const answerChinese = document.getElementById('answerChinese');
            
            // å¤„ç†å›¾ç‰‡æˆ–emoji
            if (currentAnswer.isImage) {
                answerEmoji.innerHTML = `<img src="${currentAnswer.emoji}" alt="${currentAnswer.chinese}">`;
            } else {
                answerEmoji.textContent = currentAnswer.emoji;
            }
            
            answerWord.textContent = currentAnswer.finnish;
            answerChinese.textContent = currentAnswer.chinese;
        }
        
        /**
         * æ’­æ”¾å¿ƒåƒç”Ÿæˆå™¨éŸ³é¢‘
         */
        function playMindAudio() {
            if (!currentAnswer) return;
            
            // ä½¿ç”¨SpeechSynthesis APIæ’­æ”¾èŠ¬å…°è¯­ï¼ˆä¸æ˜¾ç¤ºå•è¯æ–‡æœ¬ï¼‰
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(currentAnswer.finnish);
                utterance.lang = 'fi-FI';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
                
                // æ’­æ”¾æ—¶ç»™æŒ‰é’®æ·»åŠ è§†è§‰åé¦ˆ
                const playBtn = document.querySelector('.mind-play-btn');
                if (playBtn) {
                    playBtn.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
                    playBtn.textContent = 'ğŸ”Š æ­£åœ¨æ’­æ”¾...';
                    
                    utterance.onend = () => {
                        playBtn.style.background = 'linear-gradient(135deg, #007bff, #0056b3)';
                        playBtn.textContent = 'ğŸ”Š æ’­æ”¾éŸ³é¢‘';
                    };
                }
            }
        }
        
        /**
         * ç¿»è½¬å¿ƒåƒç”Ÿæˆå™¨å¡ç‰‡
         */
        function flipMindCard() {
            const mindCard = document.getElementById('mindCard');
            const mindCardBack = mindCard.querySelector('.mind-card-back');
            const evaluationSection = document.getElementById('evaluationSection');
            
            // ç¿»è½¬å¡ç‰‡
            mindCard.classList.add('flipped');
            mindCardBack.classList.remove('hidden');
            
            // æ’­æ”¾ä¸­æ–‡å‘éŸ³
            setTimeout(() => {
                if ('speechSynthesis' in window && currentAnswer) {
                    const utterance = new SpeechSynthesisUtterance(currentAnswer.chinese);
                    utterance.lang = 'zh-CN';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                }
            }, 300);
            
            // æ˜¾ç¤ºè¯„ä»·æŒ‰é’®
            setTimeout(() => {
                evaluationSection.classList.remove('hidden');
            }, 600);
        }
        
        /**
         * è¯„ä»·ç­”æ¡ˆ
         */
        function evaluateAnswer(isCorrect) {
            if (userAnswered) return;
            
            userAnswered = true;
            
            // æ›´æ–°ç»Ÿè®¡
            if (isCorrect) {
                correctAnswers++;
            }
            
            // å»¶è¿Ÿåè¿›å…¥ä¸‹ä¸€é¢˜
            setTimeout(() => {
                nextMindQuestion();
            }, 1000);
        }
        
        /**
         * ä¸‹ä¸€ä¸ªå¿ƒåƒç”Ÿæˆå™¨é—®é¢˜
         */
        function nextMindQuestion() {
            currentQuestion++;
            showMindQuestion();
        }
        
        /**
         * é€€å‡ºè®­ç»ƒ
         */
        function exitTraining() {
            if (confirm('ç¡®å®šè¦é€€å‡ºè®­ç»ƒå—ï¼Ÿè¿›åº¦å°†ä¸ä¼šä¿å­˜ã€‚')) {
                // éšè—æ‰€æœ‰è®­ç»ƒç•Œé¢
                document.getElementById('echoTraining').classList.add('hidden');
                document.getElementById('mindTraining').classList.add('hidden');
                // æ˜¾ç¤ºåœºæ™¯é€‰æ‹©å™¨
                document.getElementById('sceneSelector').classList.remove('hidden');
            }
        }
        
        /**
         * æ˜¾ç¤ºè®­ç»ƒå®Œæˆ
         */
        function showTrainingComplete() {
            const accuracy = Math.round((correctAnswers / totalQuestions) * 100);
            const stageName = currentStage === 1 ? 'å›å£°å®šä½å™¨' : 'å¿ƒåƒç”Ÿæˆå™¨';
            alert(`${stageName}è®­ç»ƒå®Œæˆï¼\næ­£ç¡®ç‡ï¼š${accuracy}% (${correctAnswers}/${totalQuestions})`);
            
            // è¿”å›åœºæ™¯é€‰æ‹©
            document.getElementById('echoTraining').classList.add('hidden');
            document.getElementById('mindTraining').classList.add('hidden');
            document.getElementById('sceneSelector').classList.remove('hidden');
        }
        
        /**
         * æ•°ç»„éšæœºæ‰“ä¹±
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        /**
         * é€€å‡ºæ¨¡å—
         */
        function exitModule() {
            if (confirm('ç¡®å®šè¦é€€å‡ºæ¨¡å—1.5å—ï¼Ÿ')) {
                window.location.href = 'ç”Ÿå­˜æ¨¡å—ä¸€Â·1 ä¸–ç•Œæ„ŸçŸ¥åè®®.html';
            }
        }
        
        /**
         * æ·»åŠ è¯æ±‡åˆ°é”™é¢˜é›†
         */
        function addToWrongWords(word) {
            // ä½¿ç”¨èŠ¬å…°è¯­ä½œä¸ºå”¯ä¸€æ ‡è¯†
            wrongWords.add(JSON.stringify(word));
            updateWrongWordsCount();
            saveWrongWords(); // ä¿å­˜åˆ°localStorage
        }
        
        /**
         * ä»é”™é¢˜é›†ä¸­ç§»é™¤è¯æ±‡
         */
        function removeFromWrongWords(word) {
            wrongWords.delete(JSON.stringify(word));
            updateWrongWordsCount();
            renderWrongWords();
            renderGlobalWrongWords(); // åŒæ—¶æ›´æ–°å…¨å±€é”™é¢˜é›†æ˜¾ç¤º
            saveWrongWords(); // ä¿å­˜åˆ°localStorage
        }
        
        /**
         * æ›´æ–°é”™é¢˜é›†è®¡æ•°æ˜¾ç¤º
         */
        function updateWrongWordsCount() {
            const countElement = document.getElementById('wrongWordsCount');
            if (countElement) {
                countElement.textContent = wrongWords.size;
            }
            // åŒæ—¶æ›´æ–°å…¨å±€é”™é¢˜é›†è®¡æ•°
            const globalCountElement = document.getElementById('globalWrongWordsCount');
            if (globalCountElement) {
                globalCountElement.textContent = wrongWords.size;
            }
        }
        
        /**
         * åˆ‡æ¢é”™é¢˜é›†é¢æ¿æ˜¾ç¤º/éšè—
         */
        function toggleWrongWords() {
            const panel = document.getElementById('wrongWordsPanel');
            if (panel.classList.contains('hidden')) {
                panel.classList.remove('hidden');
                renderWrongWords();
            } else {
                panel.classList.add('hidden');
            }
        }
        
        /**
         * æ¸²æŸ“é”™é¢˜é›†
         */
        function renderWrongWords() {
            const grid = document.getElementById('wrongWordsGrid');
            const emptyMsg = document.getElementById('wrongWordsEmpty');
            
            if (wrongWords.size === 0) {
                grid.style.display = 'none';
                emptyMsg.classList.remove('hidden');
                return;
            }
            
            grid.style.display = 'grid';
            emptyMsg.classList.add('hidden');
            grid.innerHTML = '';
            
            wrongWords.forEach(wordStr => {
                const word = JSON.parse(wordStr);
                const cardElement = createWrongWordCard(word);
                grid.appendChild(cardElement);
            });
        }
        
        /**
         * åˆ›å»ºé”™é¢˜å¡ç‰‡
         */
        function createWrongWordCard(word) {
            const card = document.createElement('div');
            card.className = 'wrong-word-card';
            card.onclick = () => flipWrongCard(card);
            
            // å¤„ç†å›¾ç‰‡æˆ–emoji
            let emojiContent;
            if (word.isImage) {
                emojiContent = `<img src="${word.emoji}" alt="${word.chinese}" style="width: 40px; height: 40px;">`;
            } else {
                emojiContent = `<div style="font-size: 2em;">${word.emoji}</div>`;
            }
            
            card.innerHTML = `
                <div class="wrong-card-inner">
                    <div class="wrong-card-front">
                        <div class="wrong-card-finnish">${word.finnish}</div>
                        <div style="font-size: 0.8em; color: #999;">ç‚¹å‡»æŸ¥çœ‹ä¸­æ–‡</div>
                    </div>
                    <div class="wrong-card-back">
                        ${emojiContent}
                        <div class="wrong-card-chinese">${word.chinese}</div>
                    </div>
                </div>
                <button class="remove-wrong-btn" onclick="event.stopPropagation(); removeFromWrongWords(${JSON.stringify(word).replace(/"/g, '&quot;')})">Ã—</button>
            `;
            
            return card;
        }
        
        /**
         * ç¿»è½¬é”™é¢˜å¡ç‰‡
         */
        function flipWrongCard(card) {
            card.classList.toggle('flipped');
            
            // æ’­æ”¾èŠ¬å…°è¯­å‘éŸ³
            if (!card.classList.contains('flipped')) {
                const finnishText = card.querySelector('.wrong-card-finnish').textContent;
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(finnishText);
                    utterance.lang = 'fi-FI';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                }
            } else {
                // æ’­æ”¾ä¸­æ–‡å‘éŸ³
                const chineseText = card.querySelector('.wrong-card-chinese').textContent;
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(chineseText);
                    utterance.lang = 'zh-CN';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                }
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–é”™é¢˜é›†
        document.addEventListener('DOMContentLoaded', function() {
            initWrongWords();
        });
        
        /**
         * æ‰“å¼€å…¨å±€é”™é¢˜é›†å¼¹çª—
         */
        function openGlobalWrongWords() {
            const modal = document.getElementById('globalWrongWordsModal');
            modal.classList.remove('hidden');
            renderGlobalWrongWords();
        }
        
        /**
         * å…³é—­å…¨å±€é”™é¢˜é›†å¼¹çª—
         */
        function closeGlobalWrongWords() {
            const modal = document.getElementById('globalWrongWordsModal');
            modal.classList.add('hidden');
        }
        
        /**
         * æ¸²æŸ“å…¨å±€é”™é¢˜é›†
         */
        function renderGlobalWrongWords() {
            const grid = document.getElementById('globalWrongWordsGrid');
            const emptyMsg = document.getElementById('globalWrongWordsEmpty');
            
            if (wrongWords.size === 0) {
                grid.style.display = 'none';
                emptyMsg.classList.remove('hidden');
                return;
            }
            
            grid.style.display = 'grid';
            emptyMsg.classList.add('hidden');
            grid.innerHTML = '';
            
            wrongWords.forEach(wordStr => {
                const word = JSON.parse(wordStr);
                const cardElement = createGlobalWrongWordCard(word);
                grid.appendChild(cardElement);
            });
        }
        
        /**
         * åˆ›å»ºå…¨å±€é”™é¢˜å¡ç‰‡
         */
        function createGlobalWrongWordCard(word) {
            const card = document.createElement('div');
            card.className = 'wrong-word-card';
            card.onclick = () => flipWrongCard(card);
            
            // å¤„ç†å›¾ç‰‡æˆ–emoji
            let emojiContent;
            if (word.isImage) {
                emojiContent = `<img src="${word.emoji}" alt="${word.chinese}" style="width: 30px; height: 30px;">`;
            } else {
                emojiContent = `<div style="font-size: 1.5em;">${word.emoji}</div>`;
            }
            
            card.innerHTML = `
                <div class="wrong-card-inner">
                    <div class="wrong-card-front">
                        <div class="wrong-card-finnish">${word.finnish}</div>
                        <div style="font-size: 0.7em; color: #999;">ç‚¹å‡»æŸ¥çœ‹ä¸­æ–‡</div>
                    </div>
                    <div class="wrong-card-back">
                        ${emojiContent}
                        <div class="wrong-card-chinese">${word.chinese}</div>
                    </div>
                </div>
                <button class="remove-wrong-btn" onclick="event.stopPropagation(); removeFromWrongWords(${JSON.stringify(word).replace(/"/g, '&quot;')})">Ã—</button>
            `;
            
            return card;
        }
        
        /**
         * æ¸…ç©ºæ‰€æœ‰é”™é¢˜
         */
        function clearAllWrongWords() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰é”™é¢˜å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚')) {
                wrongWords.clear();
                saveWrongWords();
                updateWrongWordsCount();
                renderGlobalWrongWords();
                // å¦‚æœåœ¨è®­ç»ƒé¡µé¢ï¼Œä¹Ÿæ›´æ–°è®­ç»ƒé¡µé¢çš„é”™é¢˜é›†æ˜¾ç¤º
                const wrongWordsPanel = document.getElementById('wrongWordsPanel');
                if (wrongWordsPanel && !wrongWordsPanel.classList.contains('hidden')) {
                    renderWrongWords();
                }
            }
        }
    </script>
</body>
</html> 