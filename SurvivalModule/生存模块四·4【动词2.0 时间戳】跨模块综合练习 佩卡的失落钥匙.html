<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½©å¡çš„å¤±è½é’¥åŒ™ - Pekan kadonneet avaimet</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Noto+Sans+SC:wght@400;700&display=swap');

        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: #e0e0e0;
            line-height: 1.7;
            padding: 20px;
            margin: 0;
        }

        .story-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #e94560, #0f3460);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #16213e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .header h1 {
            margin: 0;
            font-size: 2.2em;
            color: #fff;
            text-shadow: 0 0 10px #f9a826;
        }

        .header p {
            font-size: 1.1em;
            color: #c5c6c7;
            opacity: 0.9;
            margin: 10px 0 0 0;
        }

        .memory-fragment {
            display: none;
            background-color: #16213e;
            border: 1px solid #0f3460;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            animation: fadeIn 0.6s ease-in;
        }

        .memory-fragment.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scene {
            text-align: center;
            font-size: 4em;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(249, 168, 38, 0.1);
            border-radius: 10px;
            line-height: 1.2;
        }

        .story-title {
            text-align: center;
            color: #f9a826;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid #2a3a60;
            padding-bottom: 10px;
        }

        .story-text {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 25px;
            text-align: center;
        }

        .story-text.clickable {
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 15px;
            border-radius: 8px;
        }

        .story-text.clickable:hover {
            background: rgba(249, 168, 38, 0.1);
            transform: translateY(-2px);
        }

        .highlight {
            color: #50fa7b;
            font-weight: bold;
            text-shadow: 0 0 5px #50fa7b;
        }

        .highlight-neg {
            color: #ff5555;
            font-weight: bold;
            text-shadow: 0 0 5px #ff5555;
        }

        .highlight-space {
            color: #8be9fd;
            font-weight: bold;
            text-shadow: 0 0 5px #8be9fd;
        }

        .highlight-reason {
            color: #ff79c6;
            font-weight: bold;
            text-shadow: 0 0 5px #ff79c6;
        }

        .comprehension-check {
            background: rgba(80, 250, 123, 0.1);
            border-left: 4px solid #50fa7b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .comprehension-check:hover {
            background: rgba(80, 250, 123, 0.2);
        }

        .comprehension-question {
            font-size: 1.1em;
            color: #50fa7b;
            margin-bottom: 10px;
        }

        .answer {
            display: none;
            background: rgba(249, 168, 38, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 1.1em;
            color: #f9a826;
        }

        .answer.show {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 100px; }
        }

        .next-button {
            display: inline-block;
            background: linear-gradient(135deg, #f9a826, #f57c00);
            color: #16213e;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            text-transform: uppercase;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(249, 168, 38, 0.3);
        }

        .next-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(249, 168, 38, 0.5);
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .tts-btn, .translation-toggle {
            background: #2a3a60;
            color: #f9a826;
            border: 1px solid #f9a826;
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9em;
            margin: 0 5px;
            transition: all 0.2s ease;
        }

        .tts-btn:hover, .translation-toggle:hover {
            background: #f9a826;
            color: #16213e;
        }

        .translation {
            color: #a7a9be;
            font-style: italic;
            margin-top: 15px;
            padding: 15px;
            background-color: #0f3460;
            border-radius: 8px;
            display: none;
            font-size: 1.1em;
        }

        .celebration {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #50fa7b, #28a745);
            color: #16213e;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #2a3a60;
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f9a826, #50fa7b);
            border-radius: 3px;
            transition: width 0.6s ease;
        }
    </style>
</head>
<body>

<div class="story-container">
    <div class="header">
        <h1>ä½©å¡çš„å¤±è½é’¥åŒ™</h1>
        <p>Pekan kadonneet avaimet - ç»¼åˆå™äº‹ç»ƒä¹ </p>
    </div>

    <div class="progress-bar">
        <div id="progress-fill" class="progress-fill" style="width: 20%;"></div>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 0: å¼€ç¯‡ -->
    <div id="memory-0" class="memory-fragment active">
        <div class="story-title">Ongelma syntyy (é—®é¢˜å‡ºç°)</div>
        <div class="scene">ğŸ ğŸ§â€â™‚ï¸ğŸ˜°ğŸ”‘â“</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)">
            <strong>Pekka seisoo kotinsa edessÃ¤.</strong><br>
            "Voi ei! MinÃ¤ <span class="highlight-neg">en lÃ¶ydÃ¤</span> avaimiani! MissÃ¤ ne ovat?"
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Voi ei! MinÃ¤ en lÃ¶ydÃ¤ avaimiani! MissÃ¤ ne ovat?')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-0')">ä¸­æ–‡</button>
        </div>
        <div id="trans-0" class="translation">
            ä½©å¡ç«™åœ¨å®¶é—¨å£ã€‚<br>
            "å“¦ä¸ï¼æˆ‘æ‰¾ä¸åˆ°æˆ‘çš„é’¥åŒ™äº†ï¼å®ƒä»¬åœ¨å“ªé‡Œï¼Ÿ"
        </div>
        
        <div class="story-text" style="margin-top: 30px;">
            <strong>Pekka ajattelee:</strong><br>
            "Auta minua muistamaan, mitÃ¤ minÃ¤ <span class="highlight">tein</span> eilen!"
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Auta minua muistamaan, mitÃ¤ minÃ¤ tein eilen!')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-0b')">ä¸­æ–‡</button>
        </div>
        <div id="trans-0b" class="translation">
            ä½©å¡æƒ³ï¼š"å¸®æˆ‘å›å¿†ä¸€ä¸‹ï¼Œæˆ‘æ˜¨å¤©åšäº†ä»€ä¹ˆï¼"
        </div>

        <button class="next-button" onclick="showMemory(1)">Aloita muistojen selvittÃ¤minen</button>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 1: æ˜¨å¤©æ—©ä¸Šåœ¨å®¶ -->
    <div id="memory-1" class="memory-fragment">
        <div class="story-title">Muistikuva 1: Eilen aamulla kotona</div>
        <div class="scene">ğŸ â˜•ğŸ“–ğŸ˜Œ</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)">
            "Eilen aamulla minÃ¤ <span class="highlight">olin</span> <span class="highlight-space">kotona</span>. 
            MinÃ¤ <span class="highlight">join</span> kahvia ja <span class="highlight">luin</span> kirjaa. 
            MinÃ¤ <span class="highlight-neg">en nÃ¤hnyt</span> avaimia pÃ¶ydÃ¤llÃ¤."
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Eilen aamulla minÃ¤ olin kotona. MinÃ¤ join kahvia ja luin kirjaa. MinÃ¤ en nÃ¤hnyt avaimia pÃ¶ydÃ¤llÃ¤.')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-1')">ä¸­æ–‡</button>
        </div>
        <div id="trans-1" class="translation">
            "æ˜¨å¤©æ—©ä¸Šæˆ‘åœ¨å®¶ã€‚æˆ‘å–äº†å’–å•¡ï¼Œè¯»äº†ä¹¦ã€‚æˆ‘æ²¡åœ¨æ¡Œå­ä¸Šçœ‹åˆ°é’¥åŒ™ã€‚"
        </div>

        <div class="comprehension-check" onclick="toggleAnswer('answer-1')">
            <div class="comprehension-question">ğŸ¤” ç†è§£æ£€æŸ¥ï¼šOliko avaimet kotona pÃ¶ydÃ¤llÃ¤?</div>
            <div id="answer-1" class="answer">
                âœ… <strong>Ei!</strong> Pekka ei nÃ¤hnyt avaimia pÃ¶ydÃ¤llÃ¤.<br>
                ä¸ï¼ä½©å¡æ²¡åœ¨æ¡Œå­ä¸Šçœ‹åˆ°é’¥åŒ™ã€‚
            </div>
        </div>

        <button class="next-button" onclick="showMemory(2)">Seuraava muistikuva...</button>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 2: å»åŠå…¬å®¤çš„è·¯ä¸Š -->
    <div id="memory-2" class="memory-fragment">
        <div class="story-title">Muistikuva 2: Matkalla toimistoon</div>
        <div class="scene">ğŸšŒğŸµğŸ§â€â™‚ï¸ğŸš</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)">
            "Sitten minÃ¤ <span class="highlight">menin</span> <span class="highlight-space">toimistoon</span>. 
            MinÃ¤ <span class="highlight">odotin</span> bussia <span class="highlight-space">pysÃ¤killÃ¤</span>. 
            Bussissa minÃ¤ <span class="highlight">kuuntelin</span> musiikkia. 
            MinÃ¤ <span class="highlight-neg">en kÃ¤yttÃ¤nyt</span> avaimia."
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Sitten minÃ¤ menin toimistoon. MinÃ¤ odotin bussia pysÃ¤killÃ¤. Bussissa minÃ¤ kuuntelin musiikkia. MinÃ¤ en kÃ¤yttÃ¤nyt avaimia.')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-2')">ä¸­æ–‡</button>
        </div>
        <div id="trans-2" class="translation">
            "ç„¶åæˆ‘å»äº†åŠå…¬å®¤ã€‚æˆ‘åœ¨è½¦ç«™ç­‰å…¬äº¤è½¦ã€‚åœ¨å…¬äº¤è½¦ä¸Šæˆ‘å¬éŸ³ä¹ã€‚æˆ‘æ²¡ç”¨é’¥åŒ™ã€‚"
        </div>

        <div class="comprehension-check" onclick="toggleAnswer('answer-2')">
            <div class="comprehension-question">ğŸ¤” ç†è§£æ£€æŸ¥ï¼šMitÃ¤ Pekka teki bussissa?</div>
            <div id="answer-2" class="answer">
                âœ… <strong>HÃ¤n kuunteli musiikkia!</strong><br>
                ä»–å¬éŸ³ä¹ï¼
            </div>
        </div>

        <button class="next-button" onclick="showMemory(3)">Seuraava muistikuva...</button>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 3: åœ¨åŠå…¬å®¤å·¥ä½œ -->
    <div id="memory-3" class="memory-fragment">
        <div class="story-title">Muistikuva 3: Toimistossa tyÃ¶skentelemÃ¤ssÃ¤</div>
        <div class="scene">ğŸ’¼ğŸ’»ğŸ“§âŒš</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)">
            "MinÃ¤ <span class="highlight">tyÃ¶skentelin</span> koko pÃ¤ivÃ¤n <span class="highlight-space">toimistossa</span>. 
            MinÃ¤ <span class="highlight">kirjoitin</span> monta sÃ¤hkÃ¶postia. 
            MinÃ¤ <span class="highlight">pidin</span> kokouksen kollegojen kanssa."
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('MinÃ¤ tyÃ¶skentelin koko pÃ¤ivÃ¤n toimistossa. MinÃ¤ kirjoitin monta sÃ¤hkÃ¶postia. MinÃ¤ pidin kokouksen kollegojen kanssa.')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-3')">ä¸­æ–‡</button>
        </div>
        <div id="trans-3" class="translation">
            "æˆ‘åœ¨åŠå…¬å®¤å·¥ä½œäº†ä¸€æ•´å¤©ã€‚æˆ‘å†™äº†å¾ˆå¤šé‚®ä»¶ã€‚æˆ‘å’ŒåŒäº‹ä»¬å¼€äº†ä¸ªä¼šã€‚"
        </div>

        <div class="story-text" style="margin-top: 25px; font-style: italic;">
            "Kun minÃ¤ <span class="highlight">lÃ¤hdin</span> <span class="highlight-space">kotiin</span>..."
        </div>

        <button class="next-button" onclick="showMemory(4)">MitÃ¤ tapahtui sitten?</button>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 4: å…³é”®å‘ç°ï¼ˆé«˜æ½®ï¼‰ -->
    <div id="memory-4" class="memory-fragment">
        <div class="story-title">Oivallus! (æç„¶å¤§æ‚Ÿï¼)</div>
        <div class="scene">ğŸ’¡ğŸ¤¯ğŸ”‘ğŸ“‹</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)" style="background: rgba(255, 85, 85, 0.1); padding: 20px; border-radius: 10px;">
            <strong style="font-size: 1.3em;">"Ah! Nyt minÃ¤ muistan!"</strong><br><br>
            "MinÃ¤ <span class="highlight-neg">en laittanut</span> avaimia takaisin taskuun! 
            MinÃ¤ <span class="highlight">jÃ¤tin</span> ne <span class="highlight-space">toimiston pÃ¶ydÃ¤lle</span>!"
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Ah! Nyt minÃ¤ muistan! MinÃ¤ en laittanut avaimia takaisin taskuun! MinÃ¤ jÃ¤tin ne toimiston pÃ¶ydÃ¤lle!')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-4')">ä¸­æ–‡</button>
        </div>
        <div id="trans-4" class="translation">
            "å•Šï¼ç°åœ¨æˆ‘æƒ³èµ·æ¥äº†ï¼<br>
            æˆ‘æ²¡æœ‰æŠŠé’¥åŒ™æ”¾å›å£è¢‹é‡Œï¼æˆ‘æŠŠå®ƒä»¬å¿˜åœ¨åŠå…¬å®¤çš„æ¡Œå­ä¸Šäº†ï¼"
        </div>

        <div class="comprehension-check" onclick="toggleAnswer('answer-4')">
            <div class="comprehension-question">ğŸ” å…³é”®è¯­æ³•ï¼šæ³¨æ„å¦å®šè¿‡å»æ—¶çš„ç»“æ„</div>
            <div id="answer-4" class="answer">
                <strong>En laittanut</strong> = æˆ‘æ²¡æœ‰æ”¾<br>
                å¦å®šè¯ + è¿‡å»åˆ†è¯ï¼ˆæ²¡æœ‰äººç§°å˜åŒ–ï¼‰<br>
                è¿™æ˜¯èŠ¬å…°è¯­å¦å®šè¿‡å»æ—¶çš„æ ‡å‡†ç»“æ„ï¼
            </div>
        </div>

        <button class="next-button" onclick="showMemory(5)">Mene toimistoon etsimÃ¤Ã¤n!</button>
    </div>

    <!-- è®°å¿†ç‰‡æ®µ 5: ç»“å±€ -->
    <div id="memory-5" class="memory-fragment">
        <div class="story-title">Onnellinen loppu (åœ†æ»¡ç»“å±€)</div>
        <div class="scene">ğŸ¢ğŸ”‘ğŸ˜Šâœ…</div>
        <div class="story-text clickable" onclick="speakText(this.textContent)">
            <strong>"Jee! Avaimet <span class="highlight">olivat</span> tÃ¤Ã¤llÃ¤!"</strong><br>
            "Ne <span class="highlight">olivat</span> <span class="highlight-space">toimiston pÃ¶ydÃ¤llÃ¤</span>, 
            juuri siinÃ¤ missÃ¤ minÃ¤ ne <span class="highlight">jÃ¤tin</span>!"
        </div>
        <div class="controls">
            <button class="tts-btn" onclick="speakText('Jee! Avaimet olivat tÃ¤Ã¤llÃ¤! Ne olivat toimiston pÃ¶ydÃ¤llÃ¤, juuri siinÃ¤ missÃ¤ minÃ¤ ne jÃ¤tin!')">ğŸ”Š</button>
            <button class="translation-toggle" onclick="toggleTranslation('trans-5')">ä¸­æ–‡</button>
        </div>
        <div id="trans-5" class="translation">
            "è€¶ï¼é’¥åŒ™åœ¨è¿™é‡Œï¼<br>
            å®ƒä»¬åœ¨åŠå…¬å®¤çš„æ¡Œå­ä¸Šï¼Œå°±åœ¨æˆ‘æ”¾å®ƒä»¬çš„åœ°æ–¹ï¼"
        </div>

        <div class="celebration">
            ğŸ‰ Kiitos avusta! Tarina on pÃ¤Ã¤ttynyt! ğŸ‰<br>
            è°¢è°¢å¸®åŠ©ï¼æ•…äº‹ç»“æŸäº†ï¼<br><br>
            ä½ æˆåŠŸæ•´åˆäº†ï¼šè¿‡å»æ—¶ + å¦å®šè¿‡å»æ—¶ + ç©ºé—´æ ¼ + å™äº‹é€»è¾‘ï¼
        </div>

        <button class="next-button" onclick="showMemory(0); updateProgress(20);">Lue tarina uudelleen</button>
    </div>

</div>

<script>
// TTS è¯­éŸ³åŠŸèƒ½
function speakText(text) {
    if (!text || text === '...') return;
    const cleanText = text.replace(/<[^>]*>/g, '').replace(/\s+/g, ' ').trim();
    if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(cleanText);
        utterance.lang = 'fi-FI';
        utterance.rate = 0.85;
        speechSynthesis.speak(utterance);
    } else {
        alert('æŠ±æ­‰ï¼Œæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åŠŸèƒ½ã€‚');
    }
}

// ç¿»è¯‘åˆ‡æ¢
function toggleTranslation(elementId) {
    const element = document.getElementById(elementId);
    element.style.display = (element.style.display === 'none' || element.style.display === '') ? 'block' : 'none';
}

// æ˜¾ç¤ºè®°å¿†ç‰‡æ®µ
function showMemory(memoryNumber) {
    // éšè—æ‰€æœ‰ç‰‡æ®µ
    document.querySelectorAll('.memory-fragment').forEach(el => {
        el.classList.remove('active');
    });
    
    // æ˜¾ç¤ºç›®æ ‡ç‰‡æ®µ
    const targetMemory = document.getElementById('memory-' + memoryNumber);
    if (targetMemory) {
        targetMemory.classList.add('active');
        
        // æ»šåŠ¨åˆ°é¡¶éƒ¨
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // æ›´æ–°è¿›åº¦æ¡
        const progress = ((memoryNumber + 1) / 6) * 100;
        updateProgress(progress);
    }
}

// æ›´æ–°è¿›åº¦æ¡
function updateProgress(percentage) {
    const progressFill = document.getElementById('progress-fill');
    progressFill.style.width = percentage + '%';
}

// åˆ‡æ¢ç­”æ¡ˆæ˜¾ç¤º
function toggleAnswer(answerId) {
    const answer = document.getElementById(answerId);
    answer.classList.toggle('show');
}

// åˆå§‹åŒ–
window.onload = function() {
    updateProgress(20);
};

</script>

</body>
</html> 