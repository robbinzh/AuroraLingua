<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èŠ¬å…°è¯­é—ªå¡æ¸¸æˆ - ç¬¬17è¯¾</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f7f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 20px;
            color: #333;
        }

        /* è¿”å›æŒ‰é’®æ ·å¼ */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        h1 {
            width: 100%;
            text-align: center;
            color: #1f2d3d;
            margin-bottom: 40px;
            margin-top: 50px; /* ä¸ºè¿”å›æŒ‰é’®ç•™å‡ºç©ºé—´ */
            font-weight: 700;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 30px;
            width: 100%;
            max-width: 1600px;
        }

        .card {
            background-color: transparent;
            width: 100%;
            height: 260px;
            perspective: 1200px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55), box-shadow 0.3s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border-radius: 16px;
        }
        
        .card:hover .card-inner {
            transform: scale(1.03);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .card.is-flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front,
        .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 16px;
        }

        .card-front {
            background-color: #ffffff;
            color: black;
            justify-content: center;
        }

        .card-back {
            background: linear-gradient(135deg, #3c4a5c, #2a3440);
            color: white;
            transform: rotateY(180deg);
            padding: 45px 0 15px 0;
        }
        
        .card-back-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 0 25px;
            text-align: left;
        }
        
        .card-back-content::-webkit-scrollbar {
          width: 6px;
        }
        .card-back-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        .card-back-content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.4);
        }

        .card-number {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 1.1em;
            font-weight: 700;
            color: #d0d0d0;
        }
        
        .card-back .card-number {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .card-front h2 {
            font-size: 1.5em;
            font-weight: 700;
            margin: 0;
            padding: 0 10px;
        }

        .card-title-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 0 30px; 
        }
        
        .card-back h3 {
            width: 100%;
            margin: 0 0 8px 0;
            font-size: 1.1em;
            font-weight: 700;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 5px;
        }
        .card-back-content h3:not(:first-child) {
            margin-top: 15px;
        }
        
        .card-back p {
            width: 100%;
            margin: 5px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .card-back p em {
            font-style: italic;
            color: #aed9ff;
        }
        
        .card-back p strong {
            font-weight: 700;
            color: #f5d38a;
        }

        .instruction {
            font-size: 0.8em;
            color: #aaa;
            position: absolute;
            bottom: 20px;
        }

        .tts-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3);
        }

        .tts-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 8px rgba(102, 126, 234, 0.4);
        }

        .tts-icon.speaking {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <button class="back-button" onclick="window.history.length > 1 ? window.history.back() : window.location.href = '#';" title="è¿”å›ä¸Šçº§é¡µé¢">
        â† è¿”å›
    </button>

    <h1>èŠ¬å…°è¯­åœ°ç‚¹ä¸æ–¹å‘é—ªå¡ (Kappale 17)</h1>

    <div class="card-container">
    </div>

    <script>
        function speak(text, clickedButton) {
            const isCurrentlySpeaking = clickedButton.classList.contains('speaking');

            speechSynthesis.cancel();
            document.querySelectorAll('.tts-icon').forEach(btn => {
                btn.textContent = 'ğŸ”Š';
                btn.classList.remove('speaking');
            });

            if (isCurrentlySpeaking) {
                return;
            }

            if (!('speechSynthesis' in window)) {
                console.log('æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆï¼Œé™çº§åˆ°Google TTS');
                fallbackToGoogleTTS(text);
                return;
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'fi-FI';
            utterance.rate = 0.9;
            utterance.pitch = 1;

            clickedButton.textContent = 'ğŸ”‡';
            clickedButton.classList.add('speaking');

            utterance.onend = function() {
                clickedButton.textContent = 'ğŸ”Š';
                clickedButton.classList.remove('speaking');
            };

            utterance.onerror = function(event) {
                console.error('è¯­éŸ³åˆæˆé”™è¯¯:', event.error, 'é™çº§åˆ°Google TTS');
                clickedButton.textContent = 'ğŸ”Š';
                clickedButton.classList.remove('speaking');
                fallbackToGoogleTTS(text);
            };

            speechSynthesis.speak(utterance);
        }

        function fallbackToGoogleTTS(text) {
            const audioSrc = `https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&q=${encodeURIComponent(text)}&tl=fi`;
            const audio = new Audio(audioSrc);
            audio.play().catch(e => {
                console.error('Google TTSæ’­æ”¾å¤±è´¥:', e);
            });
        }

        const flashcardData = [
            { fi: "Kappale 17.", zh: "ç¬¬17ç« /ç¬¬17è¯¾ã€‚", grammar: "<strong>Kappale</strong>: åè¯åŸå‹ <em>kappale</em> (ç« ï¼Œè¯¾)ã€‚æ•°å­— \"17\" (seitsemÃ¤ntoista)ã€‚" },
            { fi: "Mihin sinÃ¤ menet?", zh: "ä½ å»å“ªé‡Œï¼Ÿ", grammar: "<strong>Mihin</strong>: ç–‘é—®ä»£è¯åŸå‹ <em>mikÃ¤</em> (ä»€ä¹ˆ) çš„å…¥æ ¼å•æ•° (illative case)ï¼Œç”¨äºè¯¢é—®â€œå»å¾€â€¦é‡Œé¢â€ã€‚<strong>sinÃ¤</strong>: äººç§°ä»£è¯ (ä½ )ã€‚<strong>menet</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬äºŒäººç§°å•æ•°ç°åœ¨æ—¶ã€‚" },
            { fi: "Menen kauppaan.", zh: "æˆ‘å»å•†åº—ã€‚", grammar: "<strong>Menen</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬ä¸€äººç§°å•æ•°ç°åœ¨æ—¶ã€‚<strong>kauppaan</strong>: åè¯åŸå‹ <em>kauppa</em> (å•†åº—) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "Ensin pankkiin ja postiin ja sitten kirjastoon.", zh: "å…ˆå»é“¶è¡Œå’Œé‚®å±€ï¼Œç„¶åå»å›¾ä¹¦é¦†ã€‚", grammar: "<strong>Ensin</strong>: å‰¯è¯ (é¦–å…ˆ)ã€‚<strong>pankkiin</strong>: åè¯åŸå‹ <em>pankki</em> (é“¶è¡Œ) çš„å…¥æ ¼å•æ•°ã€‚<strong>ja</strong>: è¿è¯ (å’Œ)ã€‚<strong>postiin</strong>: åè¯åŸå‹ <em>posti</em> (é‚®å±€) çš„å…¥æ ¼å•æ•°ã€‚<strong>sitten</strong>: å‰¯è¯ (ç„¶å)ã€‚<strong>kirjastoon</strong>: åè¯åŸå‹ <em>kirjasto</em> (å›¾ä¹¦é¦†) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "Mihin te menette?", zh: "ä½ ä»¬/æ‚¨å»å“ªé‡Œï¼Ÿ", grammar: "<strong>te</strong>: äººç§°ä»£è¯ (ä½ ä»¬/æ‚¨)ã€‚<strong>menette</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬äºŒäººç§°å¤æ•°ç°åœ¨æ—¶ã€‚" },
            { fi: "Ravintolaan syÃ¶mÃ¤Ã¤n.", zh: "å»é¤é¦†åƒé¥­ã€‚", grammar: "<strong>Ravintolaan</strong>: åè¯åŸå‹ <em>ravintola</em> (é¤é¦†) çš„å…¥æ ¼å•æ•°ã€‚<strong>syÃ¶mÃ¤Ã¤n</strong>: åŠ¨è¯åŸå‹ <em>syÃ¶dÃ¤</em> (åƒ) çš„ç¬¬ä¸‰ä¸å®šå¼å…¥æ ¼å½¢å¼ (third infinitive illative)ï¼Œè¡¨ç¤ºç›®çš„ï¼Œâ€œä¸ºäº†å»åƒâ€ã€‚" },
            { fi: "Ai! Mihin ravintolaan?", zh: "å•Šï¼å»å“ªå®¶é¤é¦†ï¼Ÿ", grammar: "<strong>Ai!</strong>: æ„Ÿå¹è¯ã€‚<strong>Mihin ravintolaan</strong>: ç–‘é—®å½¢å®¹è¯ <em>mihin</em> å’Œåè¯ <em>ravintolaan</em> ä¿æŒæ ¼çš„ä¸€è‡´æ€§ã€‚" },
            { fi: "Luultavasti uuteen italialaiseen ravintolaan.", zh: "å¤§æ¦‚å»ä¸€å®¶æ–°çš„æ„å¤§åˆ©é¤é¦†ã€‚", grammar: "<strong>Luultavasti</strong>: å‰¯è¯ (å¤§æ¦‚ï¼Œå¯èƒ½)ã€‚<strong>uuteen</strong>: å½¢å®¹è¯åŸå‹ <em>uusi</em> (æ–°çš„) çš„å…¥æ ¼å•æ•°ã€‚<strong>italialaiseen</strong>: å½¢å®¹è¯åŸå‹ <em>italialainen</em> (æ„å¤§åˆ©çš„) çš„å…¥æ ¼å•æ•°ã€‚<strong>ravintolaan</strong>: åè¯åŸå‹ <em>ravintola</em> (é¤é¦†) çš„å…¥æ ¼å•æ•°ã€‚å½¢å®¹è¯å’Œåè¯ä¿æŒæ ¼ä¸€è‡´ã€‚" },
            { fi: "Milloin menet tyÃ¶hÃ¶n?", zh: "ä½ ä»€ä¹ˆæ—¶å€™å»ä¸Šç­ï¼Ÿ", grammar: "<strong>Milloin</strong>: ç–‘é—®å‰¯è¯ (ä»€ä¹ˆæ—¶å€™)ã€‚<strong>menet</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬äºŒäººç§°å•æ•°ç°åœ¨æ—¶ã€‚<strong>tyÃ¶hÃ¶n</strong>: åè¯åŸå‹ <em>tyÃ¶</em> (å·¥ä½œ) çš„å…¥æ ¼å•æ•°ã€‚å›ºå®šæ­é… <em>mennÃ¤ tyÃ¶hÃ¶n</em> (å»ä¸Šç­)ã€‚" },
            { fi: "Huomenna matkustan kotiin Englantiin, Lontooseen.", zh: "æ˜å¤©æˆ‘æ—…è¡Œå›å®¶ï¼Œå»è‹±å›½ï¼Œå»ä¼¦æ•¦ã€‚", grammar: "<strong>Huomenna</strong>: å‰¯è¯ (æ˜å¤©)ã€‚<strong>matkustan</strong>: åŠ¨è¯åŸå‹ <em>matkustaa</em> (æ—…è¡Œ) çš„ç¬¬ä¸€äººç§°å•æ•°ç°åœ¨æ—¶ã€‚<strong>kotiin</strong>: åè¯åŸå‹ <em>koti</em> (å®¶) çš„å…¥æ ¼å•æ•°ï¼Œè¡¨ç¤ºâ€œå›å®¶å»â€ã€‚<strong>Englantiin</strong>: åè¯åŸå‹ <em>Englanti</em> (è‹±å›½) çš„å…¥æ ¼å•æ•°ã€‚<strong>Lontooseen</strong>: åè¯åŸå‹ <em>Lontoo</em> (ä¼¦æ•¦) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "Milloin tulet takaisin Suomeen?", zh: "ä½ ä»€ä¹ˆæ—¶å€™å›èŠ¬å…°ï¼Ÿ", grammar: "<strong>tulet</strong>: åŠ¨è¯åŸå‹ <em>tulla</em> (æ¥) çš„ç¬¬äºŒäººç§°å•æ•°ç°åœ¨æ—¶ã€‚<strong>takaisin</strong>: å‰¯è¯ (å›æ¥)ã€‚<strong>Suomeen</strong>: åè¯åŸå‹ <em>Suomi</em> (èŠ¬å…°) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "En tiedÃ¤. EhkÃ¤ en koskaan.", zh: "æˆ‘ä¸çŸ¥é“ã€‚ä¹Ÿè®¸æ°¸è¿œä¸å›æ¥äº†ã€‚", grammar: "<strong>En tiedÃ¤</strong>: åŠ¨è¯åŸå‹ <em>tietÃ¤Ã¤</em> (çŸ¥é“) çš„ç¬¬ä¸€äººç§°å•æ•°å¦å®šå½¢å¼ã€‚<strong>EhkÃ¤</strong>: å‰¯è¯ (ä¹Ÿè®¸)ã€‚<strong>en koskaan</strong>: åŠ¨è¯åŸå‹ <em>tulla</em> (æ¥) çš„ç¬¬ä¸€äººç§°å•æ•°å¦å®šå½¢å¼ <em>en tule</em> çš„çœç•¥ï¼Œ<em>koskaan</em> (ä»ä¸ï¼Œä»»ä½•æ—¶å€™) é€šå¸¸ä¸å¦å®šè¯è¿ç”¨ã€‚" },
            { fi: "Minne te menette?", zh: "ä½ ä»¬/æ‚¨å»å“ªé‡Œï¼Ÿ", grammar: "<strong>Minne</strong>: ç–‘é—®ä»£è¯ï¼Œä¸ <em>Mihin</em> åŒä¹‰ï¼Œè¡¨ç¤ºâ€œå»å“ªé‡Œâ€ã€‚" },
            { fi: "Asemalle.", zh: "å»è½¦ç«™ã€‚", grammar: "<strong>Asemalle</strong>: åè¯åŸå‹ <em>asema</em> (è½¦ç«™) çš„è¶‹å‘æ ¼å•æ•° (allative case)ã€‚ç”¨äºè¡¨ç¤ºå»å¾€æŸä¸ªå¼€æ”¾ç©ºé—´æˆ–ç‰©ä½“çš„è¡¨é¢/æ—è¾¹ã€‚" },
            { fi: "Miksi?", zh: "ä¸ºä»€ä¹ˆï¼Ÿ", grammar: "<strong>Miksi</strong>: ç–‘é—®å‰¯è¯ (ä¸ºä»€ä¹ˆ)ï¼Œæ˜¯ <em>mikÃ¤</em> çš„å˜å½¢ã€‚" },
            { fi: "Me menemme Joensuuhun.", zh: "æˆ‘ä»¬å»çº¦æ©è‹ (åŸå¸‚å)ã€‚", grammar: "<strong>Me</strong>: äººç§°ä»£è¯ (æˆ‘ä»¬)ã€‚<strong>menemme</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬ä¸€äººç§°å¤æ•°ç°åœ¨æ—¶ã€‚<strong>Joensuuhun</strong>: ä¸“æœ‰åè¯ <em>Joensuu</em> çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "Hei! LÃ¤hdetkÃ¶ kahville?", zh: "å—¨ï¼ä¸€èµ·å»å–å’–å•¡å—ï¼Ÿ", grammar: "<strong>Hei!</strong>: é—®å€™è¯­ã€‚<strong>LÃ¤hdetkÃ¶</strong>: åŠ¨è¯åŸå‹ <em>lÃ¤hteÃ¤</em> (ç¦»å¼€ï¼Œå‡ºå‘) çš„ç¬¬äºŒäººç§°å•æ•°ç–‘é—®å½¢å¼ã€‚<strong>kahville</strong>: åè¯åŸå‹ <em>kahvi</em> (å’–å•¡) çš„è¶‹å‘æ ¼å•æ•°ã€‚å›ºå®šæ­é… <em>lÃ¤hteÃ¤ kahville</em> (å»å–å’–å•¡)ã€‚" },
            { fi: "En voi. Olen menossa Suomen kurssille.", zh: "æˆ‘ä¸èƒ½ã€‚æˆ‘æ­£è¦å»ä¸ŠèŠ¬å…°è¯­è¯¾ã€‚", grammar: "<strong>En voi</strong>: åŠ¨è¯åŸå‹ <em>voida</em> (èƒ½) çš„ç¬¬ä¸€äººç§°å•æ•°å¦å®šå½¢å¼ã€‚<strong>Olen menossa</strong>: åŠ¨è¯åŸå‹ <em>mennÃ¤</em> (å») çš„ç¬¬ä¸‰ä¸å®šå¼å†…æ ¼å½¢å¼ (third infinitive inessive)ï¼Œè¡¨ç¤ºâ€œæ­£åœ¨å»å¾€â€¦çš„è·¯ä¸Šâ€ã€‚<strong>Suomen</strong>: åè¯åŸå‹ <em>Suomi</em> (èŠ¬å…°) çš„å±æ ¼å•æ•°ã€‚<strong>kurssille</strong>: åè¯åŸå‹ <em>kurssi</em> (è¯¾ç¨‹) çš„è¶‹å‘æ ¼å•æ•°ã€‚" },
            { fi: "Tule kahville kurssin jÃ¤lkeen.", zh: "è¯¾åä¸€èµ·æ¥å–å’–å•¡å§ã€‚", grammar: "<strong>Tule</strong>: åŠ¨è¯åŸå‹ <em>tulla</em> (æ¥) çš„ç¬¬äºŒäººç§°å•æ•°å‘½ä»¤å¼ã€‚<strong>kahville</strong>: åè¯åŸå‹ <em>kahvi</em> (å’–å•¡) çš„è¶‹å‘æ ¼å•æ•°ã€‚<strong>kurssin</strong>: åè¯åŸå‹ <em>kurssi</em> (è¯¾ç¨‹) çš„å±æ ¼å•æ•°ã€‚<strong>jÃ¤lkeen</strong>: åç½®è¯ (åœ¨â€¦ä¹‹å)ï¼Œä¸å±æ ¼è¿ç”¨ã€‚" },
            { fi: "Joo. Mihin?", zh: "å¥½çš„ã€‚å»å“ªé‡Œï¼Ÿ", grammar: "<strong>Joo</strong>: å£è¯­åŒ–çš„â€œæ˜¯çš„â€ã€‚<strong>Mihin?</strong>: ç–‘é—®ä»£è¯åŸå‹ <em>mikÃ¤</em> çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "No vaikka kahvila kuppiin.", zh: "å—¯ï¼Œæ¯”å¦‚è¯´å»â€œæ¯å­å’–å•¡é¦†â€ã€‚", grammar: "<strong>No vaikka</strong>: å£è¯­çŸ­è¯­ (å—¯ï¼Œæ¯”å¦‚è¯´)ã€‚<strong>kahvila kuppiin</strong>: <strong>æ­¤å¤„åŸæ–‡ `kahvilla kuppiin` ç¨æ˜¾å£è¯­åŒ–æˆ–ä¸è§„èŒƒï¼Œæ›´æ ‡å‡†çš„å†™æ³•æ˜¯ `Kahvila Kuppiin` æˆ– `kahvilaan nimeltÃ¤ Kuppi`</strong>ã€‚è¿™é‡Œåº”ç†è§£ä¸ºå»ä¸€ä¸ªå«â€œKuppiâ€çš„å’–å•¡é¦†ã€‚<strong>kahvila</strong>: åè¯åŸå‹ <em>kahvila</em> (å’–å•¡é¦†)ã€‚<strong>kuppiin</strong>: åè¯åŸå‹ <em>kuppi</em> (æ¯å­) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "MissÃ¤ se on?", zh: "å®ƒåœ¨å“ªé‡Œï¼Ÿ", grammar: "<strong>MissÃ¤</strong>: ç–‘é—®ä»£è¯åŸå‹ <em>mikÃ¤</em> çš„å†…æ ¼å•æ•° (inessive case)ï¼Œè¯¢é—®â€œåœ¨â€¦é‡Œé¢â€ã€‚<strong>se</strong>: ä»£è¯ (å®ƒ)ã€‚<strong>on</strong>: åŠ¨è¯åŸå‹ <em>olla</em> (æ˜¯) çš„ç¬¬ä¸‰äººç§°å•æ•°ç°åœ¨æ—¶ã€‚" },
            { fi: "Aleksanterin kadulla.", zh: "åœ¨äºšå†å±±å¤§è¡—ã€‚", grammar: "<strong>Aleksanterin</strong>: ä¸“æœ‰åè¯ <em>Aleksanteri</em> çš„å±æ ¼å•æ•°ã€‚<strong>kadulla</strong>: åè¯åŸå‹ <em>katu</em> (è¡—é“) çš„å¤–æ ¼å•æ•° (adessive case)ã€‚è¡—é“åé€šå¸¸ç”¨å¤–æ ¼ã€‚" },
            { fi: "Okei. NÃ¤hdÃ¤Ã¤n siellÃ¤ kello kaksitoista.", zh: "å¥½çš„ã€‚åäºŒç‚¹åœ¨é‚£é‡Œè§ã€‚", grammar: "<strong>Okei</strong>: å¥½çš„ã€‚<strong>NÃ¤hdÃ¤Ã¤n</strong>: åŠ¨è¯åŸå‹ <em>nÃ¤hdÃ¤</em> (çœ‹è§) çš„è¢«åŠ¨å½¢å¼ï¼Œå¸¸ç”¨äºè¡¨ç¤ºâ€œæˆ‘ä»¬è§é¢å§â€ã€‚<strong>siellÃ¤</strong>: å‰¯è¯ (åœ¨é‚£é‡Œ)ã€‚<strong>kello kaksitoista</strong>: åäºŒç‚¹ã€‚" },
            { fi: "Mihin sinÃ¤ menet?", zh: "ä½ å»å“ªé‡Œï¼Ÿ", grammar: "(é‡å¤ï¼ŒåŒä¸Šæ–‡)" },
            { fi: "Museoon. Tule mukaan.", zh: "å»åšç‰©é¦†ã€‚ä¸€èµ·æ¥å§ã€‚", grammar: "<strong>Museoon</strong>: åè¯åŸå‹ <em>museo</em> (åšç‰©é¦†) çš„å…¥æ ¼å•æ•°ã€‚<strong>Tule mukaan</strong>: å›ºå®šæ­é… (ä¸€èµ·æ¥)ã€‚<strong>Tule</strong>: åŠ¨è¯åŸå‹ <em>tulla</em> (æ¥) çš„ç¬¬äºŒäººç§°å•æ•°å‘½ä»¤å¼ã€‚<strong>mukaan</strong>: å‰¯è¯/åç½®è¯ (ä¸€èµ·ï¼ŒéšåŒ)ã€‚" },
            { fi: "Ã„Ã¤h! TylsÃ¤Ã¤! En viitsi. Menen kotiin nukkumaan.", zh: "å”‰ï¼çœŸæ— èŠï¼æˆ‘æ‡’å¾—å»ã€‚æˆ‘å›å®¶ç¡è§‰äº†ã€‚", grammar: "<strong>Ã„Ã¤h!</strong>: æ„Ÿå¹è¯ã€‚<strong>TylsÃ¤Ã¤!</strong>: å½¢å®¹è¯åŸå‹ <em>tylsÃ¤</em> (æ— èŠçš„) çš„éƒ¨åˆ†æ ¼å•æ•°ï¼Œæ„Ÿå¹å¥ä¸­å¸¸ç”¨ã€‚<strong>En viitsi</strong>: å›ºå®šæ­é… (æˆ‘æ‡’å¾—/ä¸æƒ³)ï¼ŒåŠ¨è¯åŸå‹ <em>viitsiÃ¤</em> çš„ç¬¬ä¸€äººç§°å•æ•°å¦å®šå½¢å¼ã€‚<strong>Menen kotiin</strong>: å»å›å®¶ã€‚<strong>nukkumaan</strong>: åŠ¨è¯åŸå‹ <em>nukkua</em> (ç¡è§‰) çš„ç¬¬ä¸‰ä¸å®šå¼å…¥æ ¼å½¢å¼ï¼Œè¡¨ç¤ºç›®çš„ï¼Œâ€œä¸ºäº†å»ç¡è§‰â€ã€‚" },
            { fi: "Menen lomalle Italiaan.", zh: "æˆ‘è¦å»æ„å¤§åˆ©åº¦å‡ã€‚", grammar: "<strong>Menen lomalle</strong>: å›ºå®šæ­é… (å»åº¦å‡)ã€‚<strong>lomalle</strong>: åè¯åŸå‹ <em>loma</em> (å‡æœŸ) çš„è¶‹å‘æ ¼å•æ•°ã€‚<strong>Italiaan</strong>: åè¯åŸå‹ <em>Italia</em> (æ„å¤§åˆ©) çš„å…¥æ ¼å•æ•°ã€‚" },
            { fi: "Ai kuinka ihanaa! Milloin?", zh: "å“‡ï¼Œå¤šæ£’å•Šï¼ä»€ä¹ˆæ—¶å€™ï¼Ÿ", grammar: "<strong>Ai</strong>: æ„Ÿå¹è¯ã€‚<strong>kuinka</strong>: å‰¯è¯ (å¤šä¹ˆ)ã€‚<strong>ihanaa</strong>: å½¢å®¹è¯åŸå‹ <em>ihana</em> (æå¥½çš„ï¼Œå¯çˆ±çš„) çš„éƒ¨åˆ†æ ¼å•æ•°ã€‚<strong>Milloin?</strong>: ç–‘é—®å‰¯è¯ (ä»€ä¹ˆæ—¶å€™)ã€‚" },
            { fi: "Ensi viikolla.", zh: "ä¸‹å‘¨ã€‚", grammar: "<strong>Ensi</strong>: å½¢å®¹è¯/å‰¯è¯ (ä¸‹ä¸ª)ã€‚<strong>viikolla</strong>: åè¯åŸå‹ <em>viikko</em> (æ˜ŸæœŸ) çš„å¤–æ ¼å•æ•°ï¼Œè¡¨ç¤ºæ—¶é—´â€œåœ¨ä¸‹å‘¨â€ã€‚" },
            { fi: "[Loppuun musiikkia.]", zh: "[ç»“å°¾æ˜¯éŸ³ä¹ã€‚]", grammar: "<strong>Loppuun</strong>: åè¯åŸå‹ <em>loppu</em> (ç»“å°¾) çš„å…¥æ ¼å•æ•°ï¼Œè¡¨ç¤ºâ€œåˆ°ç»“å°¾å¤„â€ã€‚<strong>musiikkia</strong>: åè¯åŸå‹ <em>musiikki</em> (éŸ³ä¹) çš„éƒ¨åˆ†æ ¼å•æ•°ã€‚" }
        ];

        const container = document.querySelector('.card-container');

        flashcardData.forEach((item, index) => {
            const cardElement = document.createElement('div');
            cardElement.classList.add('card');
            
            // ä¸ºspeakå‡½æ•°å‡†å¤‡çº¯æ–‡æœ¬ï¼Œå¹¶å¤„ç†ç‰¹æ®Šå­—ç¬¦
            const plainText = item.fi.replace(/\[|\]|\./g, ''); // ç§»é™¤æ–¹æ‹¬å·å’Œå¥å·
            const speakText = plainText.replace(/'/g, "\\'"); // å¤„ç†JSå­—ç¬¦ä¸²ä¸­çš„å•å¼•å·

            cardElement.innerHTML = `
                <div class="card-inner">
                    <div class="card-front">
                        <span class="card-number">${index + 1}</span>
                        <div class="card-title-container">
                            <button class="tts-icon" onclick="speak('${speakText}', this)" title="æ’­æ”¾èŠ¬å…°è¯­éŸ³é¢‘">ğŸ”Š</button>
                            <h2>${item.fi}</h2>
                        </div>
                        <p class="instruction">ç‚¹å‡»å¡ç‰‡ç¿»é¢</p>
                    </div>
                    <div class="card-back">
                        <span class="card-number">${index + 1}</span>
                        <div class="card-back-content">
                            <h3>ä¸­æ–‡è§£é‡Š</h3>
                            <p>${item.zh}</p>
                            <h3>è¯­æ³•åˆ†æ</h3>
                            <p>${item.grammar}</p>
                        </div>
                    </div>
                </div>
            `;
            
            cardElement.addEventListener('click', function(e) {
                if (e.target.classList.contains('tts-icon')) {
                    e.stopPropagation();
                    return;
                }
                this.classList.toggle('is-flipped');
            });

            container.appendChild(cardElement);
        });
    </script>

</body>
</html>